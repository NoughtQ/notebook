<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="NoughtQ的笔记本，主要记录一些 CS 相关的笔记" name="description"/>
<meta content="NoughtQ" name="author"/>
<link href="https://notebook.noughtq.top/system/db/6.html" rel="canonical"/>
<link href="5.html" rel="prev"/>
<link href="7.html" rel="next"/>
<link href="../../feed_rss_created.xml" rel="alternate" title="RSS 订阅" type="application/rss+xml"/>
<link href="../../feed_rss_updated.xml" rel="alternate" title="已更新内容的 RSS 订阅" type="application/rss+xml"/>
<link href="../../assets/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.18" name="generator"/>
<title>Lec 6: Database Design Using the E-R Model - NoughtQ的笔记本</title>
<link href="../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=JetBrains+Mono,+LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono,+Consolas:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"JetBrains Mono, LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono, Consolas"}</style>
<link href="../../css/heti.css" rel="stylesheet"/>
<link href="../../css/toc_extra.css" rel="stylesheet"/>
<link href="../../css/timeline.css" rel="stylesheet"/>
<link href="../../css/card.css" rel="stylesheet"/>
<link href="../../css/custom.css" rel="stylesheet"/>
<link href="../../css/extra_changelog.css" rel="stylesheet"/>
<link href="../../css/header.css" rel="stylesheet"/>
<link href="../../css/sidebar.css" rel="stylesheet"/>
<link href="https://unpkg.com/katex@0/dist/katex.min.css" rel="stylesheet"/>
<link href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" rel="stylesheet"/>
<link href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&amp;display=swap" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-43NH8CVRCJ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-43NH8CVRCJ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-43NH8CVRCJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#lec-6-database-design-using-the-e-r-model">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="NoughtQ的笔记本" class="md-header__button md-logo" data-md-component="logo" href="../.." title="NoughtQ的笔记本">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.05 9H7.06V6h1.99V4.03H7.06v-1c0-1.11.89-1.99 1.99-1.99h5.98V8l2.47-1.5L20 8V1.04h1c1.05 0 2 .96 2 1.99V17c0 1.03-.95 2-2 2H9.05c-1.05 0-1.99-.95-1.99-2v-1h1.99v-2H7.06v-3h1.99zM1 18h2v-3H1v-2h2v-3H1V8h2V5h2v3H3v2h2v3H3v2h2v3H3v2h2v1h16v2H5a2 2 0 0 1-2-2v-1H1z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            NoughtQ的笔记本
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Lec 6: Database Design Using the E-R Model
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Dark Mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefer-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Dark Mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Light Mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefer-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Light Mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 256 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z" fill="currentColor"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<a aria-label="分享" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="分享">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/noughtq/notebook" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4" fill="currentColor"></path></svg>
</div>
<div class="md-source__repository">
    NoughtQ/Notebook
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="标签" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../index.html">
          
  
  
    
  
  🏫主页

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../lang/index.html">
          
  
  
    
  
  🔡语言

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../math/index.html">
          
  
  
    
  
  📊数学相关

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../algorithms/index.html">
          
  
  
    
  
  🧮算法相关

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../software/index.html">
          
  
  
    
  
  💾软件相关

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../index.html">
          
  
  
    
  
  💻系统相关

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../web/index.html">
          
  
  
    
  
  🌏Web相关

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../sec/ctf-101/index.html">
          
  
  
    
  
  🛡️信息安全

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../ai/index.html">
          
  
  
    
  
  🤖人工智能

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../misc/index.html">
          
  
  
    
  
  🗃️杂项

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../tools/index.html">
          
  
  
    
  
  🛠️工具

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../papers/index.html">
          
  
  
    
  
  📑论文阅读

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="NoughtQ的笔记本" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="NoughtQ的笔记本">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.05 9H7.06V6h1.99V4.03H7.06v-1c0-1.11.89-1.99 1.99-1.99h5.98V8l2.47-1.5L20 8V1.04h1c1.05 0 2 .96 2 1.99V17c0 1.03-.95 2-2 2H9.05c-1.05 0-1.99-.95-1.99-2v-1h1.99v-2H7.06v-3h1.99zM1 18h2v-3H1v-2h2v-3H1V8h2V5h2v3H3v2h2v3H3v2h2v3H3v2h2v1h16v2H5a2 2 0 0 1-2-2v-1H1z"></path></svg>
</a>
    NoughtQ的笔记本
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/noughtq/notebook" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4" fill="currentColor"></path></svg>
</div>
<div class="md-source__repository">
    NoughtQ/Notebook
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../index.html">
<span class="md-ellipsis">
    🏫主页
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../lang/index.html">
<span class="md-ellipsis">
    🔡语言
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../math/index.html">
<span class="md-ellipsis">
    📊数学相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../algorithms/index.html">
<span class="md-ellipsis">
    🧮算法相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../software/index.html">
<span class="md-ellipsis">
    💾软件相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../index.html">
<span class="md-ellipsis">
    💻系统相关
    
  </span>
</a>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            💻系统相关
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../csapp/index.html">
<span class="md-ellipsis">
    CSAPP
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../dld/index.html">
<span class="md-ellipsis">
    数字逻辑设计
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../co/index.html">
<span class="md-ellipsis">
    计算机组成
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../ca/index.html">
<span class="md-ellipsis">
    计算机体系结构
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="index.html">
<span class="md-ellipsis">
    数据库系统
    
  </span>
</a>
<label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_6_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_6">
<span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="1.html">
<span class="md-ellipsis">
    Lec 1: Introduction
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="2.html">
<span class="md-ellipsis">
    Lec 2: Relational Model
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="3.html">
<span class="md-ellipsis">
    Lec 3: Introduction to SQL
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="4.html">
<span class="md-ellipsis">
    Lec 4: Intermediate SQL
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="5.html">
<span class="md-ellipsis">
    Lec 5: Advanced SQL
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Lec 6: Database Design Using the E-R Model
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="6.html">
<span class="md-ellipsis">
    Lec 6: Database Design Using the E-R Model
    
  </span>
</a>
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
        目录
      </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview-of-the-design-process">
<span class="md-ellipsis">
      Overview of the Design Process
    </span>
</a>
<nav aria-label="Overview of the Design Process" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#design-phases">
<span class="md-ellipsis">
      Design Phases
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#design-pitfalls">
<span class="md-ellipsis">
      Design Pitfalls
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the-entity-relationship-model">
<span class="md-ellipsis">
      The Entity-Relationship Model
    </span>
</a>
<nav aria-label="The Entity-Relationship Model" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-sets">
<span class="md-ellipsis">
      Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relationship-sets">
<span class="md-ellipsis">
      Relationship Sets
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complex-attributes">
<span class="md-ellipsis">
      Complex Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-cardinalities">
<span class="md-ellipsis">
      Mapping Cardinalities
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#primary-key">
<span class="md-ellipsis">
      Primary Key
    </span>
</a>
<nav aria-label="Primary Key" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-sets_1">
<span class="md-ellipsis">
      Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relationship-sets_1">
<span class="md-ellipsis">
      Relationship Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#weak-entity-sets">
<span class="md-ellipsis">
      Weak Entity Sets
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#removing-redundant-attributes-in-entity-sets">
<span class="md-ellipsis">
      Removing Redundant Attributes in Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#reducing-e-r-diagrams-to-relational-schemas">
<span class="md-ellipsis">
      Reducing E-R Diagrams to Relational Schemas
    </span>
</a>
<nav aria-label="Reducing E-R Diagrams to Relational Schemas" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#strong-entity-sets">
<span class="md-ellipsis">
      Strong Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#weak-entity-sets_1">
<span class="md-ellipsis">
      Weak Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relationship-sets_2">
<span class="md-ellipsis">
      Relationship Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#redundancy-of-schemas">
<span class="md-ellipsis">
      Redundancy of Schemas
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#combination-of-schemas">
<span class="md-ellipsis">
      Combination of Schemas
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extended-e-r-features">
<span class="md-ellipsis">
      Extended E-R Features
    </span>
</a>
<nav aria-label="Extended E-R Features" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#specialization">
<span class="md-ellipsis">
      Specialization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#generalization">
<span class="md-ellipsis">
      Generalization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inheritance">
<span class="md-ellipsis">
      Inheritance
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#constraints-on-specializations">
<span class="md-ellipsis">
      Constraints on Specializations
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aggregation">
<span class="md-ellipsis">
      Aggregation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#reduction-to-relation-schemas">
<span class="md-ellipsis">
      Reduction to Relation Schemas
    </span>
</a>
<nav aria-label="Reduction to Relation Schemas" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#generalization_1">
<span class="md-ellipsis">
      Generalization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aggregation_1">
<span class="md-ellipsis">
      Aggregation
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-relationship-design-issues">
<span class="md-ellipsis">
      Entity-Relationship Design Issues
    </span>
</a>
<nav aria-label="Entity-Relationship Design Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-mistakes-in-e-r-diagrams">
<span class="md-ellipsis">
      Common Mistakes in E-R Diagrams
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#use-of-entity-sets-vs-attributes">
<span class="md-ellipsis">
      Use of Entity Sets v.s. Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#use-of-entity-sets-vs-relationship-sets">
<span class="md-ellipsis">
      Use of Entity Sets v.s. Relationship Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#binary-vs-n-ary-relationship-sets">
<span class="md-ellipsis">
      Binary v.s. n-ary Relationship Sets
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="7.html">
<span class="md-ellipsis">
    Lec 7: Relational Database Design
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="8.html">
<span class="md-ellipsis">
    Lec 8: Physical Storage Systems
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="9.html">
<span class="md-ellipsis">
    Lec 9: Database Storage Structures
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="10.html">
<span class="md-ellipsis">
    Lec 10: Indexing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="11.html">
<span class="md-ellipsis">
    Lec 11: Query Processing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="12.html">
<span class="md-ellipsis">
    Lec 12: Query Optimization
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="13.html">
<span class="md-ellipsis">
    Lec 13: Transactions
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="14.html">
<span class="md-ellipsis">
    Lec 14: Concurrency Control
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="15.html">
<span class="md-ellipsis">
    Lec 15: Recovery System
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../os/index.html">
<span class="md-ellipsis">
    操作系统
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../aai/index.html">
<span class="md-ellipsis">
    汇编与接口
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../web/index.html">
<span class="md-ellipsis">
    🌏Web相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../sec/ctf-101/index.html">
<span class="md-ellipsis">
    🛡️信息安全
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../ai/index.html">
<span class="md-ellipsis">
    🤖人工智能
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../misc/index.html">
<span class="md-ellipsis">
    🗃️杂项
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../tools/index.html">
<span class="md-ellipsis">
    🛠️工具
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../papers/index.html">
<span class="md-ellipsis">
    📑论文阅读
    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
        目录
      </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview-of-the-design-process">
<span class="md-ellipsis">
      Overview of the Design Process
    </span>
</a>
<nav aria-label="Overview of the Design Process" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#design-phases">
<span class="md-ellipsis">
      Design Phases
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#design-pitfalls">
<span class="md-ellipsis">
      Design Pitfalls
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the-entity-relationship-model">
<span class="md-ellipsis">
      The Entity-Relationship Model
    </span>
</a>
<nav aria-label="The Entity-Relationship Model" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-sets">
<span class="md-ellipsis">
      Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relationship-sets">
<span class="md-ellipsis">
      Relationship Sets
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complex-attributes">
<span class="md-ellipsis">
      Complex Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-cardinalities">
<span class="md-ellipsis">
      Mapping Cardinalities
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#primary-key">
<span class="md-ellipsis">
      Primary Key
    </span>
</a>
<nav aria-label="Primary Key" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-sets_1">
<span class="md-ellipsis">
      Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relationship-sets_1">
<span class="md-ellipsis">
      Relationship Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#weak-entity-sets">
<span class="md-ellipsis">
      Weak Entity Sets
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#removing-redundant-attributes-in-entity-sets">
<span class="md-ellipsis">
      Removing Redundant Attributes in Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#reducing-e-r-diagrams-to-relational-schemas">
<span class="md-ellipsis">
      Reducing E-R Diagrams to Relational Schemas
    </span>
</a>
<nav aria-label="Reducing E-R Diagrams to Relational Schemas" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#strong-entity-sets">
<span class="md-ellipsis">
      Strong Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#weak-entity-sets_1">
<span class="md-ellipsis">
      Weak Entity Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relationship-sets_2">
<span class="md-ellipsis">
      Relationship Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#redundancy-of-schemas">
<span class="md-ellipsis">
      Redundancy of Schemas
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#combination-of-schemas">
<span class="md-ellipsis">
      Combination of Schemas
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extended-e-r-features">
<span class="md-ellipsis">
      Extended E-R Features
    </span>
</a>
<nav aria-label="Extended E-R Features" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#specialization">
<span class="md-ellipsis">
      Specialization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#generalization">
<span class="md-ellipsis">
      Generalization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inheritance">
<span class="md-ellipsis">
      Inheritance
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#constraints-on-specializations">
<span class="md-ellipsis">
      Constraints on Specializations
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aggregation">
<span class="md-ellipsis">
      Aggregation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#reduction-to-relation-schemas">
<span class="md-ellipsis">
      Reduction to Relation Schemas
    </span>
</a>
<nav aria-label="Reduction to Relation Schemas" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#generalization_1">
<span class="md-ellipsis">
      Generalization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aggregation_1">
<span class="md-ellipsis">
      Aggregation
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-relationship-design-issues">
<span class="md-ellipsis">
      Entity-Relationship Design Issues
    </span>
</a>
<nav aria-label="Entity-Relationship Design Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-mistakes-in-e-r-diagrams">
<span class="md-ellipsis">
      Common Mistakes in E-R Diagrams
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#use-of-entity-sets-vs-attributes">
<span class="md-ellipsis">
      Use of Entity Sets v.s. Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#use-of-entity-sets-vs-relationship-sets">
<span class="md-ellipsis">
      Use of Entity Sets v.s. Relationship Sets
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#binary-vs-n-ary-relationship-sets">
<span class="md-ellipsis">
      Binary v.s. n-ary Relationship Sets
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/noughtq/notebook/edit/master/docs/system/db/6.md" rel="edit" title="编辑此页">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://github.com/noughtq/notebook/raw/master/docs/system/db/6.md" title="查看本页的源代码">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
</a>
<div><h1 id="lec-6-database-design-using-the-e-r-model">Lec 6: Database Design Using the E-R Model<a class="headerlink" href="#lec-6-database-design-using-the-e-r-model" title="Permanent link">⚓︎</a></h1>
<div style="margin-top: -30px; font-size: 0.9em; opacity: 0.7;">
<p><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约<span class="heti-skip"><span class="heti-spacing"> </span>8368<span class="heti-spacing"> </span></span>个字 <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间<span class="heti-skip"><span class="heti-spacing"> </span>42<span class="heti-spacing"> </span></span>分钟</p>
</div>
<details class="abstract">
<summary>核心知识</summary>
<p>需要掌握<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图的概念和画法，包括：</p>
<ul>
<li>实体集、联系集</li>
<li>复杂属性</li>
<li>映射基数</li>
<li>主键</li>
<li>强<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>弱实体集</li>
<li>特化、泛化、继承</li>
<li>其他零碎的点<span><span class="heti-spacing"> </span>...</span></li>
</ul>
</details>
<h2 id="overview-of-the-design-process">Overview of the Design Process<a class="headerlink" href="#overview-of-the-design-process" title="Permanent link">⚓︎</a></h2>
<p>创建一个完整的数据库应用程序包含三部分：</p>
<ul>
<li>设计数据库模式</li>
<li>设计能够访问和更新数据的程序</li>
<li>设计用于控制访问数据的安全模式</li>
</ul>
<p>本章着重介绍第一个部分，即数据库模式的设计。</p>
<h3 id="design-phases">Design Phases<a class="headerlink" href="#design-phases" title="Permanent link">⚓︎</a></h3>
<p>对于小型的数据库应用，可能只需要创建一些关系，以及相应的属性和约束就<span class="heti-skip"><span class="heti-spacing"> </span>OK<span class="heti-spacing"> </span></span>了（直接用我们之前学过的知识<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。但是在实际的应用开发中，情况往往是很复杂的，很难用直接用关系表现出来。因此，数据库设计者们会遵循以下步骤来获取用户需求，并将这些需求从高层的数据模型转换为底层的系统实现：</p>
<ul>
<li>首先需要将数据库用户（或领域专家）的数据需求用符号化的语言表述，结果得到一份用户需求的具体规范，这里假定以文本形式呈现。</li>
<li><strong>概念设计</strong>(conceptual design)：选择一个数据模型，将需求转换为数据库的概念模式。<ul>
<li>之后的章节中，我们采用<strong>实体<span class="heti-skip"><span class="heti-spacing"> </span>-<span class="heti-spacing"> </span></span>联系模型</strong><span>(entity-relationship model)<span class="heti-spacing"> </span></span>这一数据模型，所以概念模式需要指明实体、属性、联系和约束等。最终呈现的结果可以是一个实体<span class="heti-skip"><span class="heti-spacing"> </span>-<span class="heti-spacing"> </span></span>联系图。</li>
<li>设计好之后需要再次检查，确保满足用户的数据需求，并且不存在任何冲突，还应该去除重复的功能。</li>
<li>这一步只需专注于如何描述数据及其关系，无需关注物理存储上的细节</li>
</ul>
</li>
<li><strong>功能需求规范</strong>(specification of functional requirement)：包含用户需要对数据执行的操作（或事务<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>，比如增删查改等等。</li>
<li>最后需要将抽象的数据模型转换为数据库的具体实现，这里分两步走：<ul>
<li><strong>逻辑设计</strong>：将高层的概念模式映射到数据模型的具体实现，这里的“数据模型”就是我们前面所学的<strong>关系数据模型</strong>。</li>
<li><strong>物理设计</strong>：指明数据库的物理功能，包括文件组织形式、索引结构等等。</li>
<li>物理模式的改变相对容易，但逻辑模式的改变就比较麻烦，因此在设计的时候需要格外小心！</li>
</ul>
</li>
</ul>
<h3 id="design-pitfalls">Design Pitfalls<a class="headerlink" href="#design-pitfalls" title="Permanent link">⚓︎</a></h3>
<p>在设计数据库模式时，我们应避免掉入以下陷阱：</p>
<ul>
<li><strong>冗余</strong>(redundancy)：包含重复信息。它带来最大的问题是如果没有更新完所有信息的拷贝，那么就会导致这些拷贝信息的<strong>不一致性</strong>(inconsistent)。</li>
<li><strong>不完整</strong>(incompleteness)：一种使某些数据难以或不可能表示的不良设计。虽然这些无法表示的数据可以用空值填充，但这种做法不受欢迎，且可能因主键约束而无法实现。</li>
</ul>
<p>避免上述的不良设计是不够的，我们还应追求良好的数据库模式设计，这需要我们同时兼具科学素养（你学的数据库知识）和良好的“品味”（来自经验<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<h2 id="the-entity-relationship-model">The Entity-Relationship Model<a class="headerlink" href="#the-entity-relationship-model" title="Permanent link">⚓︎</a></h2>
<p><strong>实体<span class="heti-skip"><span class="heti-spacing"> </span>-<span class="heti-spacing"> </span></span>联系模型</strong><span>(entity-relationship model)<span class="heti-spacing"> </span></span>能够将现实应用中的内涵和交互映射到一个概念模式上。它包含了以下三个基本概念：<strong>实体集</strong>、<strong>联系集</strong>和<strong>属性</strong>。<span>E-R<span class="heti-spacing"> </span></span>模型的图形化表述就是一张简单而清晰的 <strong><span>E-R<span class="heti-spacing"> </span></span>图</strong>。</p>
<h3 id="entity-sets">Entity Sets<a class="headerlink" href="#entity-sets" title="Permanent link">⚓︎</a></h3>
<p><strong>实体</strong><span>(entity)<span class="heti-spacing"> </span></span>是现实世界中能够与其他对象区分开来的一个对象。一个实体会有一组特性，我们可以用某些特性的值来识别唯一的实体。实体可以是具体的，也可以是抽象的。</p>
<p>相同类型（共享相同的特性或属性）的一组实体构成了一个<strong>实体集</strong>(entity set)。在数据建模的过程中，我们往往将实体集看作是一个抽象的概念，它不止带任何一组具体的实体；而一组具体的实体则被称为<strong>扩展</strong>(extension)。实体集可以相交，也就是说一个实体可以同时被多个实体集包含。</p>
<p>一个实体往往有一组<strong>属性</strong>(attributes)，即一组描述性的特性。实体集中的某个属性反映了这些实体具有某些相似的信息，但每个实体都有一个单独的属性值。目前我们仅考虑<strong>简单的</strong><span>(simple)<span class="heti-spacing"> </span></span>属性，即不可被分割的属性（下一节会介绍复合<span class="heti-skip"><span class="heti-spacing"> </span>(composite)<span class="heti-spacing"> </span></span>或多值<span class="heti-skip"><span class="heti-spacing"> </span>(multivalued)<span class="heti-spacing"> </span></span>属性<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<p>总结一下：一个数据库包含一组实体集，每个实体集包含若干个相同类型的实体。</p>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们用<strong>矩形</strong><span>(rectangle)<span class="heti-spacing"> </span></span>表示实体集，这个矩形被分为两部分：上半部分有一个实体集的名称；下半部分则包含了所有属性的名称。</p>
<div style="text-align: center">
<img src="images/lec6/1.png" width="40%/"/>
</div>
<h3 id="relationship-sets">Relationship Sets<a class="headerlink" href="#relationship-sets" title="Permanent link">⚓︎</a></h3>
<ul>
<li><strong>联系</strong>(relationship)：多个（两个及以上）实体之间的关联<span><span class="heti-spacing"> </span>(association)</span></li>
<li>
<p><strong>联系集</strong>(relationship set)：一组相同类型的联系</p>
<ul>
<li>一组特定的实体集之间可能会包含多个联系集</li>
<li>例子（整张图是一个联系集<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>：</li>
</ul>
<p></p><div style="text-align: center">
<img src="images/lec6/2.png" width="50%/"/>
</div>
<ul>
<li>大多数联系集都是<strong>二元联系集</strong>(binary relationship set)，即包含两个实体集的联系，但有时也存在<strong>三元联系集</strong><span>(ternary relationship set)<span class="heti-spacing"> </span></span>或包含更多实体集的联系。我们称参与到某个联系集的实体集个数为该联系集的<strong>度</strong>(degree)</li>
</ul>
</li>
<li>
<p><strong>联系实例</strong>(relationship instance)：一个表示多个具名实体的关联</p>
</li>
</ul>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们用<strong>菱形</strong><span>(diamond)<span class="heti-spacing"> </span></span>表示一个联系集，并且从这个菱形出发，用<strong>线条</strong><span>(line)<span class="heti-spacing"> </span></span>连接一些实体（矩形<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>，如下图所示：</p>
<div style="text-align: center">
<img src="images/lec6/3.png" width="70%/"/>
</div>
<blockquote>
<p>非二元联系集也可以很容易地用<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图表示出来。</p>
</blockquote>
<p>下面我们用形式化的数学语言定义“联系集”——它是一个在<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(n\)</span><span class="heti-spacing"> </span></span>个实体集（<span class="arithmatex">\(n \ge 2\)</span>，且允许存在重复实体）<span><span class="arithmatex">\(E_1, E_2, \dots, E_n\)</span><span class="heti-spacing"> </span></span>上的关系<span><span class="heti-spacing"> </span>(relation) <span class="arithmatex">\(R\)</span></span>，是以下集合的子集：</p>
<div class="arithmatex">\[
\{(e_1, e_2, \dots, e_n)\ |\ e_1 \in E_1, e_2 \in E_2, \dots, e_n \in E_n \}
\]</div>
<p>其中<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\((e_1, e_2, \dots, e_n)\)</span><span class="heti-spacing"> </span></span>是一个联系实例。</p>
<p>我们可以用“<strong>参与</strong>(participation)”一词表示实体集之间的关联，即：<span class="arithmatex">\(E_1, E_2, \dots, E_n\)</span> <strong>参与到</strong><span>(participate)<span class="heti-spacing"> </span></span>联系集<span><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span></span>。</p>
<p>某个实体在一个联系中起到的作用称为该实体的<strong>角色</strong>(role)。当联系集中包含多个相同的实体集时，这种定义的作用能被更好地体现出来，因为同一个实体在同一个联系扮演的“角色”可能是不同的。有时我们称这样的联系集为<strong>递归</strong><span>(recursive)<span class="heti-spacing"> </span></span>联系集，在这样的联系集中需要显式表指出实体的角色名。在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们需要将角色名标注在连接矩形和菱形的线条上。</p>
<details class="example" open="open">
<summary>例子</summary>
<p></p><div style="text-align: center">
<img src="images/lec6/4.png" width="50%/"/>
</div>
<p>我们定义了一个递归联系集<span><span class="heti-spacing"> </span>prereq</span>，它关联了两个相同的实体集<span><span class="heti-spacing"> </span>course</span>，而且是靠实体集中相同的属性<span class="heti-skip"><span class="heti-spacing"> </span>course_id<span class="heti-spacing"> </span></span>连接起来的。但由于另一个<span class="heti-skip"><span class="heti-spacing"> </span>course_id<span class="heti-spacing"> </span></span>用于表示前置课程，所以我们用<span class="heti-skip"><span class="heti-spacing"> </span>prereq_id<span class="heti-spacing"> </span></span>这一角色名表示这个<span><span class="heti-spacing"> </span>course_id</span>。</p>
</details>
<p>联系也可能有一组属性，被称为<strong>描述属性</strong>(descriptive attributes)，在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中用一个单独的矩形表示，并且用虚线与菱形相连，如下图所示（注意<span class="heti-skip"><span class="heti-spacing"> </span>grade<span class="heti-spacing"> </span></span>才是属性，其他矩形表示的是实体集<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>：</p>
<div style="text-align: center">
<img src="images/lec6/5.png" width="50%/"/>
</div>
<p>在上图中，我们没有将实体集的属性名标出来，这是因为对于复杂的<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图，用一张图片难以完全表示出来，需要分为多张图片，那么一个实体集可能会出现在多张图中。我们建议仅在实体集第一次出现的时候标出属性名，之后出现时就无需标出属性名，这样可以避免信息的重复，以及随后更新可能导致的不一致性（只改了某些图上实体集的属性，忘改了其他图上实体集的属性<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<h2 id="complex-attributes">Complex Attributes<a class="headerlink" href="#complex-attributes" title="Permanent link">⚓︎</a></h2>
<p>每个属性都有一组被允许的值，称为该属性的<strong>域</strong><span>(domain)<span class="heti-spacing"> </span></span>或<strong>值集</strong>(value set)。</p>
<p><span>E-R<span class="heti-spacing"> </span></span>模型中的属性可以有以下不同的类型：</p>
<ul>
<li>
<p><strong>简单</strong><span>(simple)<span class="heti-spacing"> </span></span>属性和<strong>复合</strong><span>(composite)<span class="heti-spacing"> </span></span>属性</p>
<ul>
<li>简单属性：无法被进一步划分的属性</li>
<li>
<p>复合属性：可以被进一步划分为多个子部分（属性）的属性</p>
<ul>
<li>举例：<span>name<span class="heti-spacing"> </span></span>属性可以被进一步划分为<span class="heti-skip"><span class="heti-spacing"> </span>first_name, middle_initial, last_name<span class="heti-spacing"> </span></span>这三个属性，因此是一个复合属性</li>
<li>如果用户希望在某些场合使用完整的属性，而在另一些场合使用这个属性的某个部分，那么使用复合属性更加合适</li>
<li>复合属性将相关的属性组合起来，使得建模更加清楚</li>
<li>复合属性也可以以<strong>层级</strong><span>(hierarchy)<span class="heti-spacing"> </span></span>的形式表现，如下所示：</li>
</ul>
<p></p><div style="text-align: center">
<img src="images/lec6/6.png" width="80%/"/>
</div>
</li>
</ul>
</li>
<li>
<p><strong>单值</strong><span>(single-valued)<span class="heti-spacing"> </span></span>属性和<strong>多值</strong><span>(multivalued)<span class="heti-spacing"> </span></span>属性</p>
<ul>
<li>单值属性：只有一个值的属性</li>
<li>多值属性：可包含<span class="heti-skip"><span class="heti-spacing"> </span>0<span class="heti-spacing"> </span></span>个或多个值的属性</li>
</ul>
</li>
<li><strong>派生</strong><span>(derived)<span class="heti-spacing"> </span></span>属性：该属性会从别的属性或实体中派生得到值</li>
</ul>
<p>下面的<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图表示了复合属性、多值属性和派生属性：</p>
<div style="text-align: center">
<img src="images/lec6/7.png" width="30%/"/>
</div>
<ul>
<li>复合属性：对应的组件属性会紧放在复合属性的下方，并且开头有缩进</li>
<li>多值属性：被花括号包裹</li>
<li>派生属性：末尾有圆括号</li>
</ul>
<p>属性的<span class="heti-skip"><span class="heti-spacing"> </span>null<span class="heti-spacing"> </span></span>值在不同的情况下有不同的含义：</p>
<ul>
<li><strong>不适用</strong>(not applicable)：某个实体不存在这个属性值</li>
<li><strong>遗失</strong>(missing)：某个实体存在这个属性值，但我们没有得到相关的信息</li>
<li><strong>未知</strong>(unknown)：我们不清楚属性值是否存在</li>
</ul>
<h2 id="mapping-cardinalities">Mapping Cardinalities<a class="headerlink" href="#mapping-cardinalities" title="Permanent link">⚓︎</a></h2>
<p><strong>映射基数</strong><span>(mapping cardinalities)<span class="heti-spacing"> </span></span>是指一个实体通过联系集能够关联其他实体的数量，在描述二元联系集的时候是最有用的。映射基数可以作为对联系的一种约束。</p>
<p>有以下几类映射基数（假设在实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A, B\)</span><span class="heti-spacing"> </span></span>之间有一个联系集<span><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span></span><heti-adjacent class="heti-adjacent-half">）</heti-adjacent>：</p>
<ul>
<li><strong>一对一</strong>(one-to-one)：<span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中的一个实体<em>最多</em>关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中的一个实体，且<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中的一个实体<em>最多</em>关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中的一个实体</li>
<li><strong>一对多</strong>(one-to-many)：<span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中的一个实体可以关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中任意数量的实体，但<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中的一个实体<em>最多</em>关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中的一个实体</li>
<li><strong>多对一</strong>(many-to-one)：<span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中的一个实体<em>最多</em>关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中的一个实体，但<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中的一个实体可以关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中任意数量的实体</li>
<li><strong>多对多</strong>(many-to-many)：<span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中的一个实体可以关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中任意数量的实体，且<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中的一个实体可以关联<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>中任意数量的实体</li>
</ul>
<p>下面四张图分别表示这四类映射基数：</p>
<div style="text-align: center">
<img src="images/lec6/8.png" width="100%/"/>
</div>
<hr/>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们用带箭头（-&gt;）或没带箭头（——）的线条表示联系中的基数约束，如下所示：</p>
<div style="text-align: center">
<img src="images/lec6/9.png" width="60%/"/>
</div>
<ul>
<li><strong>一对一</strong>：从联系集出发，两根带箭头的线条指向全部实体集</li>
<li><strong>一对多</strong>、<strong>多对一</strong>：从联系集出发，带箭头的线条指向联系中“一”那一侧的实体，另一侧的实体则用不带箭头的线条连接</li>
<li><strong>多对多</strong>：从联系集出发，两根不带箭头的线条指向全部实体集</li>
</ul>
<hr/>
<p>如果实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>中的所有实体至少参与到联系集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中的一个联系，那么称<span><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span></span> <strong>完全</strong><span>(total)<span class="heti-spacing"> </span></span>参与到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中。而如果存在某些实体没有参与到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中的任何联系，那么称<span><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span></span> <strong>部分</strong><span>(partial)<span class="heti-spacing"> </span></span>参与到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中。</p>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们用双线条表示完全参与，如下所示：</p>
<div style="text-align: center">
<img src="images/lec6/10.png" width="70%/"/>
</div>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们还可以指明更为复杂的约束——可以在线条上标注<span><span class="heti-spacing"> </span>l..h</span>，其中<span class="heti-skip"><span class="heti-spacing"> </span>l, h<span class="heti-spacing"> </span></span>分别表示最小和最大基数。如果<span><span class="heti-spacing"> </span>h = *</span>，表明没有最大限制；若<span><span class="heti-spacing"> </span>l = h = 1</span>，则表示的是一对一的关系。</p>
<div style="text-align: center">
<img src="images/lec6/11.png" width="70%/"/>
</div>
<details class="abstract" open="open">
<summary>总结</summary>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">单线</th>
<th style="text-align: center;">双线</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">箭头</td>
<td style="text-align: center;">0..1</td>
<td style="text-align: center;">1..1</td>
</tr>
<tr>
<td style="text-align: center;">无箭头</td>
<td style="text-align: center;">0..*</td>
<td style="text-align: center;">1..*</td>
</tr>
</tbody>
</table>
</details>
<details class="example">
<summary>例子</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="" id="__tabbed_1_1" name="__tabbed_1" type="radio"/><input id="__tabbed_1_2" name="__tabbed_1" type="radio"/><div class="tabbed-labels"><label for="__tabbed_1_1">题目</label><label for="__tabbed_1_2">解答</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p></p><div style="text-align: center">
<img src="images/lec6/30.png" width="90%/"/>
</div>
</div>
<div class="tabbed-block">
<p></p><div style="text-align: center">
<img src="images/lec6/31.png" width="80%/"/>
</div>
</div>
</div>
</div>
</details>
<h2 id="primary-key">Primary Key<a class="headerlink" href="#primary-key" title="Permanent link">⚓︎</a></h2>
<p>类似前面介绍的关系数据模型，在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型中我们也需要用<strong>主键</strong><span>(primary key)<span class="heti-spacing"> </span></span>来区分实体集中的实体，以及联系集中的联系。</p>
<h3 id="entity-sets_1">Entity Sets<a class="headerlink" href="#entity-sets_1" title="Permanent link">⚓︎</a></h3>
<p>我们可以用实体中的一组属性来区分实体集中的不同实体，而那些能够用来识别唯一实体的一组属性称为<strong>键</strong>(key)。实际上，关系模式中那些关于键的概念（包括超键、候选键和主键）都可以直接用在实体集中。</p>
<h3 id="relationship-sets_1">Relationship Sets<a class="headerlink" href="#relationship-sets_1" title="Permanent link">⚓︎</a></h3>
<p>令<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>是包含实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E_1, E_2, \dots, E_n\)</span><span class="heti-spacing"> </span></span>的联系集，<span><span class="arithmatex">\(primary-key(E_i)\)</span><span class="heti-spacing"> </span></span>表示<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E_i\)</span><span class="heti-spacing"> </span></span>的主键，并假设所有主键的属性名都是唯一的。<span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>的主键的组成取决于和<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>关联的那些属性：</p>
<ul>
<li>
<p>如果没有与<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>关联的属性，那么</p>
<div class="arithmatex">\[
primary-key(E_1) \cup primary-key(E_2) \cup \dots \cup primary-key(E_n)
\]</div>
<p>能表示<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中唯一的联系</p>
</li>
<li>
<p>如果存在与<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>关联的属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(a_1, \dots, a_m\)</span></span>，那么</p>
<div class="arithmatex">\[
primary-key(E_1) \cup primary-key(E_2) \cup \dots \cup primary-key(E_n) \cup \{a_1, a_2, \dots, a_m\}
\]</div>
<p>能表示<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中唯一的联系</p>
</li>
</ul>
<p>如果主键的属性名不唯一，那么需要对这些重名属性进行重命名操作，命名规则为：<code>实体集名.属性名</code> 或 <code>角色名.属性名</code>（如果存在重复的实体集<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<p>由于联系集由一组联系实例构成，而每个实例能根据参与到联系的实体被唯一识别，因此无论在上述的哪种情况下，属性组：</p>
<div class="arithmatex">\[
primary-key(E_1) \cup primary-key(E_2) \cup \dots \cup primary-key(E_n)
\]</div>
<p>足以构成联系集的<strong>超键</strong>。</p>
<p>而主键的选择还取决于<strong>映射基数</strong>：</p>
<ul>
<li>多对多：上述超键即为主键</li>
<li>一对多、多对一：将“多”那一侧的实体集的主键的作为整个联系集的主键</li>
<li>一对一：任一实体集的主键均可作为联系集的主键</li>
</ul>
<hr/>
<p>对于非二元联系，如果没有提供基数约束，那么上述超键就是唯一的候选键，即为主键。但如果有基数约束的话，情况就会变得很复杂。我们约定：<u><span>E-R<span class="heti-spacing"> </span></span>图中每个联系集只允许有一条带箭头的线条</u>。因为在非二元联系中，如果有多个带箭头的线条，那么我们可以对同一个联系进行多种解读，如下面的例子所示：</p>
<details class="example">
<summary>例子</summary>
<p></p><div style="text-align: center">
<img src="images/lec6/12.png" width="80%/"/>
</div>
</details>
<h3 id="weak-entity-sets">Weak Entity Sets<a class="headerlink" href="#weak-entity-sets" title="Permanent link">⚓︎</a></h3>
<p>有时，我们会遇到这样一种情况：某个实体集包含了另一个实体集的属性，用于隐式表明两者的联系；但同时两者之间也有一个显式指明的联系集——这样的话就会带来信息<strong>冗余</strong>的问题。</p>
<ul>
<li>一种解决方法是直接删掉联系集，仅保留实体集之间的隐式联系，但这样的“隐式联系”并不是我们所希望的。</li>
<li>另一种方法是不让这个实体集包含另一个实体集的属性（实际上该属性并未从关系模式中删除，原因之后分析<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>，但这样做可能导致这个实体集无法通过剩余属性被唯一表述出来，<u>它的存在依赖于这个联系集以及另一个实体集</u>。我们称这样的实体集为<strong>弱实体集</strong>(weak entity set)，而另一个实体集称为<strong>识别实体集</strong>(indentifying entity set)。<ul>
<li>我们会用识别实体集的主键，以及一些额外的属性来识别唯一的弱实体，这些属性统称为<strong>判别属性</strong>(discriminator attributes)</li>
<li>不是弱实体集的实体集就是<strong>强实体集</strong>(strong entity set)</li>
<li>而<strong>识别联系</strong><span>(indentifying relationship)<span class="heti-spacing"> </span></span>是一个从弱实体集到识别实体集的多对一的联系，且弱实体集<strong>完全参与</strong>到该联系中。注意识别联系不应该有任何描述属性，因为这样的属性会和弱实体集关联起来</li>
</ul>
</li>
</ul>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们用一个双层的矩形表示一个弱实体集，并且其判别属性用虚线下划线标识；用一个双层的菱形表示一个识别联系（联系弱实体集和识别实体集<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<div style="text-align: center">
<img src="images/lec6/13.png" width="70%/"/>
</div>
<p>观察上图，可以发现：</p>
<ul>
<li>由于弱实体集完全参与到联系集中，所以用到了双线条</li>
<li>并且因为弱实体集和识别实体集是一个多对一的联系，所以有一个指向识别实体集的箭头</li>
</ul>
<p>弱实体集也可以参与到其他的联系集中，而且可能作为其他识别联系集中的识别实体集。所以某个特定的弱实体集可能需要根据一组来自不同识别实体集的实体被识别出来，而它的主键则包含了这些识别实体集的主键的并集，加上弱实体集自己的判别属性。</p>
<h2 id="removing-redundant-attributes-in-entity-sets">Removing Redundant Attributes in Entity Sets<a class="headerlink" href="#removing-redundant-attributes-in-entity-sets" title="Permanent link">⚓︎</a></h2>
<p>在设计<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型时，一旦确定了实体及其属性，那么这些实体的联系集也随之形成。而这些联系集可能存在冗余的（已经在实体集中出现过了<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>，需要被移除的信息。假如现在有两个实体集<span><span class="heti-spacing"> </span><span class="arithmatex">\(E_1, E_2\)</span></span>，它们之间通过某个属性<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(a\)</span><span class="heti-spacing"> </span></span>构成了一种联系。而这两个实体集均有这个属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(a\)</span></span>，但在<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E_1\)</span><span class="heti-spacing"> </span></span>中这个属性是一个主键，那么为了避免冗余的出现，我们需要将<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E_2\)</span><span class="heti-spacing"> </span></span>中的 属性<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(a\)</span><span class="heti-spacing"> </span></span>移除。这样做看似违背直觉，但是当我们将这两个实体集看作一个整体（联系）时，我们能更加明白为何要删除属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(a\)</span></span>。</p>
<p>在<a href="#design-pitfalls">前面</a>我们提醒过，好的<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型设计不应该包含冗余属性。</p>
<details class="example">
<summary>例子</summary>
<p>下面是一组来自大学数据库的实体集和联系集：</p>
<p></p><div style="text-align: center">
<img src="images/lec6/14.png" width="70%/"/>
</div>
<p></p><div style="text-align: center">
<img src="images/lec6/15.png" width="70%/"/>
</div>
<p>可以看到，它们之间不存在任何的冗余信息。</p>
<p>对应的<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图如下所示：</p>
<p></p><div style="text-align: center">
<img src="images/lec6/16.png" width="80%/"/>
</div>
</details>
<h2 id="reducing-e-r-diagrams-to-relational-schemas">Reducing E-R Diagrams to Relational Schemas<a class="headerlink" href="#reducing-e-r-diagrams-to-relational-schemas" title="Permanent link">⚓︎</a></h2>
<p>无论是<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型，还是关系数据模型，都是对现实问题的抽象的、逻辑的表示。接下来，我们探讨如何用关系模式来表示<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模式，以及如何将<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>设计中的约束映射到关系模式的约束上。</p>
<h3 id="strong-entity-sets">Strong Entity Sets<a class="headerlink" href="#strong-entity-sets" title="Permanent link">⚓︎</a></h3>
<p>令<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>为一个强实体集，仅包含描述属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(a_1, a_2, \dots, a_n\)</span></span>。并且我们用一个有<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(n\)</span><span class="heti-spacing"> </span></span>个不同属性，且同样称为<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>的模式来表示这个实体。那么模式中某个关系的每个<strong>元组</strong>对应着实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>中的一个<strong>实体</strong>，而实体集中的<strong>主键</strong>仍然作为模式的<strong>主键</strong>。</p>
<p>假如强实体集有非简单属性，情况就变得更为复杂：</p>
<ul>
<li>对于<strong>复合属性</strong>，我们需要为每个组件属性创建一个单独的属性，但不需要为复合属性本身创建属性</li>
<li>对于<strong>多值属性</strong>，需要为这些属性创建新的关系模式<ul>
<li>假设有多值属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(M\)</span></span>，我们为其创建一个关系模式<span><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span></span>，它有一个属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span></span>，对应<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(M\)</span><span class="heti-spacing"> </span></span>以及<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(M\)</span><span class="heti-spacing"> </span></span>所在的实体集或联系集中的主键</li>
<li>此外，我们还需要为<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>创建<strong>外键约束</strong>，<span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>里面从实体集的主键中生成的属性必须参照从实体集中生成的关系</li>
<li>对于只有两个属性的实体集，包括一个主键属性<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>和一个多值属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(M\)</span></span>，从实体集中得到的关系模式仅包含一个属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span></span>。此时我们可以删掉这个关系，但保留和<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(M\)</span><span class="heti-spacing"> </span></span>对应的具有属性<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B, A\)</span><span class="heti-spacing"> </span></span>的关系模式（<heti-adjacent class="heti-adjacent-half">？</heti-adjacent>）</li>
</ul>
</li>
<li>对于<strong>派生属性</strong>，它们不会再关系数据模型中被显式表示出来，而是通过其他数据模型的过程<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>函数<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>方法来表示</li>
</ul>
<h3 id="weak-entity-sets_1">Weak Entity Sets<a class="headerlink" href="#weak-entity-sets_1" title="Permanent link">⚓︎</a></h3>
<p>假设有一个包含属性<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(a_1, a_2, \dots, a_m\)</span><span class="heti-spacing"> </span></span>的弱实体集<span><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span></span>，以及一个包含属性<span><span class="heti-spacing"> </span><span class="arithmatex">\(b_1, b_2, \dots, b_n\)</span></span>，被<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>依赖的强实体集<span><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span></span>。我们还是将<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>对应的关系模式称为<span><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span></span>，这个关系模式的属性为：</p>
<div class="arithmatex">\[
\{a_1, a_2, \dots, a_m\} \cup \{b_1, b_2, \dots, b_n\}
\]</div>
<ul>
<li>这个关系模式的<strong>主键</strong>是强实体集的主键和弱实体集的判别属性的结合</li>
<li>另外还得考虑这个关系模式的<strong>外键约束</strong>：属性<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(b_1, b_2, \dots, b_n\)</span><span class="heti-spacing"> </span></span>参照从<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>中得到的关系的主键，这个外键约束能够确保对于任意一个弱实体对应的元组，总存在一个强实体对应的元组</li>
</ul>
<h3 id="relationship-sets_2">Relationship Sets<a class="headerlink" href="#relationship-sets_2" title="Permanent link">⚓︎</a></h3>
<p>令<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>为一个联系集，<span><span class="arithmatex">\(a_1, a_2, \dots, a_m\)</span><span class="heti-spacing"> </span></span>为参与到该联系集的实体集的主键的并集，<span><span class="arithmatex">\(b_1, b_2, \dots, b_n\)</span><span class="heti-spacing"> </span></span>为<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>的描述属性（如果有的话<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。我们还是将<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>对应的关系模式称为<span><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span></span>，这个关系模式的属性为：</p>
<div class="arithmatex">\[
\{a_1, a_2, \dots, a_m\} \cup \{b_1, b_2, \dots, b_n\}
\]</div>
<ul>
<li>这个关系模式的<strong>主键</strong>即为联系集的主键</li>
<li>而<strong>外键约束</strong>遵循以下定义：对于每个和联系集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>相关的实体集<span><span class="heti-spacing"> </span><span class="arithmatex">\(E_i\)</span></span>，我们为关系模式<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>创建一个外键约束，<span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中派生自<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E_i\)</span><span class="heti-spacing"> </span></span>的主键属性需要参照<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E_i\)</span><span class="heti-spacing"> </span></span>对应的关系模式的主键</li>
<li>联系集中的<strong>角色标识符</strong>在关系模式中可以直接转化为属性名</li>
</ul>
<h3 id="redundancy-of-schemas">Redundancy of Schemas<a class="headerlink" href="#redundancy-of-schemas" title="Permanent link">⚓︎</a></h3>
<p>总的来说，对于那些连接弱实体集和对应的强实体集的联系集，它们对应的关系模式提供的信息是冗余的，因此无需被表示出来。</p>
<h3 id="combination-of-schemas">Combination of Schemas<a class="headerlink" href="#combination-of-schemas" title="Permanent link">⚓︎</a></h3>
<p>从实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>到实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>的<strong>多对一</strong>的联系集<span><span class="heti-spacing"> </span><span class="arithmatex">\(AB\)</span></span>，通过上述的转换方法，我们会得到三个模式<span><span class="heti-spacing"> </span><span class="arithmatex">\(A, B, AB\)</span></span>。假设<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>完全参与到关系中，那么我们就可以将<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(AB\)</span><span class="heti-spacing"> </span></span>对应的模式结合起来，构成一个单独的模式，包含这两个模式的属性的并集。这个结合而成的模式的主键，就是被合并的那个实体集的主键。</p>
<p>对于<strong>一对一</strong>的关系，联系集的关系模式能够和任意一个实体集的关系模式结合起来。</p>
<p>即使某些实体集是部分参与的，我们也可以结合模式，此时可以使用空值来填充未参与的部分（即缺失的元组<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<p>最后考虑出现在联系集对应的关系模式的<strong>外键约束</strong>：我们可以删除那些参照实体集的约束（该实体集的模式与联系集的模式合并<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>，并将其他外键约束添加到合并后的模式中。</p>
<h2 id="extended-e-r-features">Extended E-R Features<a class="headerlink" href="#extended-e-r-features" title="Permanent link">⚓︎</a></h2>
<p>接下来我们来学习一下<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型中一些更为高级的特征（<del>与面向对象范式非常相似</del><heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</p>
<h3 id="specialization">Specialization<a class="headerlink" href="#specialization" title="Permanent link">⚓︎</a></h3>
<p>一个实体集可能包含多个由实体构成的不同的<strong>子群</strong>(subgrouping)，比如实体集中某个子集内的实体可能具备一些相似的属性，但放在整个实体集中就看不出来了。我们称这种从实体集中指定子群的<strong>自顶向下</strong><span>(top-down)<span class="heti-spacing"> </span></span>的过程为<strong>特化</strong>(specialization)。</p>
<ul>
<li>这样的联系也称为 <strong>ISA</strong><span>("is a")<span class="heti-spacing"> </span></span>联系或者<strong>超类<span class="heti-skip"><span class="heti-spacing"> </span>-<span class="heti-spacing"> </span></span>子类</strong><span>(superclass-subclass)<span class="heti-spacing"> </span></span>联系</li>
<li>我们可以在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型中重复使用特化，以达到改进设计的目的</li>
<li>一个实体集可以从不同的特点出发被多次特化，此时某个特定的实体可能属于多个特化</li>
<li>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中，我们用一个从被特化的实体出发，指向另一个实体的<strong>空心箭头</strong>表示特化联系</p>
<p></p><div style="text-align: center">
<img src="images/lec6/17.png" width="60%/"/>
</div>
</li>
<li>
<p>特化分为两类：</p>
<ul>
<li><strong>重叠特化</strong>(overlapping specialization)：实体可以属于多个被特化的实体集<ul>
<li>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中使用分开的多个箭头表示</li>
</ul>
</li>
<li><strong>互斥特化</strong>(disjoint specialization)：实体至多属于一个被特化的实体集<ul>
<li>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>图中使用合并的一个箭头表示</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="generalization">Generalization<a class="headerlink" href="#generalization" title="Permanent link">⚓︎</a></h3>
<p>相对于特化而言，多个实体集基于共同特征，合并成一个更高层级的实体集的<strong>自底向上</strong><span>(bottom-up)<span class="heti-spacing"> </span></span>的过程被称为<strong>泛化</strong>(generalization)。实际上，泛化就是特化的逆过程。</p>
<p>高层级和低层级的实体集可以分别用<strong>超类</strong><span>(superclass)<span class="heti-spacing"> </span></span>和<strong>子类</strong><span>(subclass)<span class="heti-spacing"> </span></span>来指代。</p>
<div class="admonition note">
<p class="admonition-title">比较特化和泛化</p>
<ul>
<li><strong>特化</strong>：来自单个实体集，通过创建不同的低级实体集，来强调实体集之间的不同。设计者们希望通过特化来表现实体集中独特的特征。</li>
<li><strong>泛化</strong>：来自具有共同特征的多个实体集，基于它们的共性，综合得到单个的，更高层级的实体集。</li>
</ul>
</div>
<h3 id="inheritance">Inheritance<a class="headerlink" href="#inheritance" title="Permanent link">⚓︎</a></h3>
<p>由特化和泛化带来的一个关键特性是<strong>属性继承</strong>(attribute inheritance)：低层级的实体集继承来自高层级的实体集的属性。属性继承遍布于整个实体集<strong>层级</strong>(hierarchy)。</p>
<p>除了属性继承外，低层级实体集还<strong>继承</strong>了高层级实体集<strong>参与</strong>联系集的情况，即<strong>参与继承</strong>(participation inheritance)，它同样也遍布于整个实体集层级。</p>
<p>在层级中，继承可以被归类为：</p>
<ul>
<li><strong>单继承</strong>(single inheritance)：层级中的每个实体集仅在一个<span class="heti-skip"><span class="heti-spacing"> </span>ISA<span class="heti-spacing"> </span></span>联系中作为更低层的实体集</li>
<li><strong>多继承</strong>(multiple inheritance)：层级中的每个实体集可在多个<span class="heti-skip"><span class="heti-spacing"> </span>ISA<span class="heti-spacing"> </span></span>联系中作为更低层的实体集，这样形成的结构称为<a href="../../math/dm/9.html#lattices"><strong>格</strong></a>(lattice)</li>
</ul>
<details class="example">
<summary>例子</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="" id="__tabbed_2_1" name="__tabbed_2" type="radio"/><input id="__tabbed_2_2" name="__tabbed_2" type="radio"/><div class="tabbed-labels"><label for="__tabbed_2_1">例<span class="heti-skip"><span class="heti-spacing"> </span>1<span class="heti-spacing"> </span></span></label><label for="__tabbed_2_2">例<span><span class="heti-spacing"> </span>2</span></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="" id="__tabbed_3_1" name="__tabbed_3" type="radio"/><input id="__tabbed_3_2" name="__tabbed_3" type="radio"/><div class="tabbed-labels"><label for="__tabbed_3_1">题目</label><label for="__tabbed_3_2">参考答案</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p></p><div style="text-align: center">
<img src="images/lec6/23.png" width="70%/"/>
</div>
<p></p><div style="text-align: center">
<img src="images/lec6/24.png" width="70%/"/>
</div>
</div>
<div class="tabbed-block">
<p><figure markdown="span" style=" width: 70%">
<img alt="" src="images/lec6/25_dark.png#only-dark"/>
<img alt="" src="images/lec6/25_light.png#only-light"/>
<figcaption></figcaption>
</figure></p>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="" id="__tabbed_4_1" name="__tabbed_4" type="radio"/><input id="__tabbed_4_2" name="__tabbed_4" type="radio"/><div class="tabbed-labels"><label for="__tabbed_4_1">题目</label><label for="__tabbed_4_2">参考答案</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p></p><div style="text-align: center">
<img src="images/lec6/28.png" width="70%/"/>
</div>
</div>
<div class="tabbed-block">
<p><figure markdown="span" style=" width: 70%">
<img alt="" src="images/lec6/29_dark.png#only-dark"/>
<img alt="" src="images/lec6/29_light.png#only-light"/>
<figcaption></figcaption>
</figure></p>
<p>关系模式为（<span>PK<span class="heti-spacing"> </span></span>表示主键，<span>FK<span class="heti-spacing"> </span></span>表示外键<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>：</p>
<ol>
<li>用户表<ul>
<li><code>User(UserID, Password, Name, Email)</code></li>
<li>PK: <code>UserID</code></li>
</ul>
</li>
<li>作者表<ul>
<li><code>Author(AuthorID)</code></li>
<li>PK: <code>AuthorID</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>AuthorID</code>引用 <code>User(UserID)</code></li>
</ul>
</li>
<li>审稿人表<ul>
<li><code>Reviewer(ReviewerID, ExperienceLevel)</code></li>
<li>PK: <code>ReviewerID</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>ReviewerID</code>引用 <code>User(UserID)</code></li>
</ul>
</li>
<li>作者研究主题表（为处理作者的多值属性 <code>ResearchSubjects</code> 而创建的表）<ul>
<li><code>Author_Subject(AuthorID, ResearchSubject)</code></li>
<li>PK: <code>(AuthorID, ResearchSubject)</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>AuthorID</code>引用 <code>Author(AuthorID)</code></li>
</ul>
</li>
<li>会议表<ul>
<li><code>Conference(ConfID, Title, Date, City)</code></li>
<li>PK: <code>ConfID</code></li>
</ul>
</li>
<li>论文表（包含指向<span class="heti-skip"><span class="heti-spacing"> </span>Conference<span class="heti-spacing"> </span></span>的外键以实现<span class="heti-skip"><span class="heti-spacing"> </span>N:1<span class="heti-spacing"> </span></span>关系）<ul>
<li><code>Paper(PaperID, Title, Abstract, SubmitDate, Status, FileName, ConfID)</code></li>
<li>PK: <code>PaperID</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>ConfID</code>引用 <code>Conference(ConfID)</code></li>
</ul>
</li>
<li>论文作者关系表（用于实现<span class="heti-skip"><span class="heti-spacing"> </span>Paper<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>Author<span class="heti-spacing"> </span></span>之间的多对多关系）<ul>
<li><code>Paper_Author(PaperID, AuthorID, Rank, Affiliation)</code></li>
<li>PK: <code>(PaperID, AuthorID)</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>PaperID</code>引用 <code>Paper(PaperID)</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>AuthorID</code>引用 <code>Author(AuthorID)</code></li>
</ul>
</li>
<li>评审表（用于实现<span class="heti-skip"><span class="heti-spacing"> </span>Paper<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>Reviewer<span class="heti-spacing"> </span></span>之间的多对多关系）<ul>
<li><code>Review(PaperID, ReviewerID, Rating, Comments)</code></li>
<li>PK: <code>(PaperID, ReviewerID)</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>PaperID</code>引用 <code>Paper(PaperID)</code></li>
<li><span>FK:<span class="heti-spacing"> </span></span><code>ReviewerID</code>引用 <code>Reviewer(ReviewerID)</code></li>
</ul>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</details>
<h3 id="constraints-on-specializations">Constraints on Specializations<a class="headerlink" href="#constraints-on-specializations" title="Permanent link">⚓︎</a></h3>
<p>为了更加精确地为实际问题建模，我们需要为特定的泛化<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>特化设置某些约束。可以设置的约束有：</p>
<ul>
<li><strong>互斥性约束</strong>(disjointness constraints)：就是前面提到的互斥特化和重叠特化。</li>
<li><strong>完整性约束</strong>(completeness constraints)：在特化<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>泛化中，高层级实体集中的实体是否必须至少属于一个低层级实体集中的实体，包括：<ul>
<li><strong>完全</strong><span>(total)<span class="heti-spacing"> </span></span>特化<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>泛化：每个高层级的实体必须属于一个低层级的实体集。</li>
<li><strong>部分</strong><span>(partial)<span class="heti-spacing"> </span></span>特化<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>泛化：一些高层级的实体可能不属于任何的低层级实体集。这是<strong>默认</strong>行为。</li>
</ul>
</li>
</ul>
<p>这两种约束并不相互依赖，因此可以自由组合，可以得到四种不同的约束。</p>
<p>插入和删除操作需要遵循特化和泛化的约束。</p>
<h3 id="aggregation">Aggregation<a class="headerlink" href="#aggregation" title="Permanent link">⚓︎</a></h3>
<p>有时，我们可能想要在联系集上建立新的联系，但仅靠我们已知的<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型知识是无法做到的。也许我们可以通过在参与到这个联系集上的实体集上创建联系来间接实现，但这样做很可能带来信息冗余的问题。为了解决这个问题，这里引入“<strong>聚合</strong>”<span>(aggregation)<span class="heti-spacing"> </span></span>这一概念：将联系视作一个实体，这样就可以在这个“联系”上建立联系了，同时避免了更为复杂的表达。</p>
<div style="text-align: center">
<img src="images/lec6/18.png" width="60%/"/>
</div>
<h3 id="reduction-to-relation-schemas">Reduction to Relation Schemas<a class="headerlink" href="#reduction-to-relation-schemas" title="Permanent link">⚓︎</a></h3>
<h4 id="generalization_1">Generalization<a class="headerlink" href="#generalization_1" title="Permanent link">⚓︎</a></h4>
<p>有两种将带泛化的<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型转换为关系模式的方法：</p>
<ul>
<li>
<p>为更高层的实体集创建模式。为每个低层级实体集创建一个模式，其属性来自实体集的属性，以及高层级实体集主键对应的属性。</p>
<ul>
<li>
<p>对于<a href="#specialization">特化</a>中给出的图片，我们可以得到以下三个模式：</p>
<p>person(<u>ID</u>, name, street, city)
employee(<u>ID</u>, salary)
student(<u>ID</u>, tot_cred)</p>
</li>
<li>
<p>高层级实体集的主键属性同样作为低层级实体集的主键属性</p>
</li>
<li>低层级实体集的外键约束：低层级实体集的主键属性参照高层级实体集对应关系的主键</li>
</ul>
</li>
<li>
<p>如果是互斥且完整的泛化，那么我们就可以不必为高层级实体集创建模式；而为低层级实体集创建一个属性，其属性来自自身的属性，以及高层级实体集的每个属性。</p>
<ul>
<li>
<p>对于<a href="#specialization">特化</a>中给出的图片，我们可以得到以下两个模式：</p>
<p>employee(<u>ID</u>, street, city, salary)
student(<u>ID</u>, street, city, tot_cred)</p>
</li>
<li>
<p>但这种方法给外键约束的定义带来麻烦</p>
</li>
<li>如果是重叠泛化，那么这种方法就会导致某些值被存储多次</li>
<li>如果是互斥但不完整的泛化，也会导致外键约束的问题</li>
</ul>
</li>
</ul>
<h4 id="aggregation_1">Aggregation<a class="headerlink" href="#aggregation_1" title="Permanent link">⚓︎</a></h4>
<p>我们可以直接将聚合起来的联系集和实体集（一个更大的实体集）按照之前介绍的方法进行转换。</p>
<p>聚合的主键就是联系集的主键。</p>
<h2 id="entity-relationship-design-issues">Entity-Relationship Design Issues<a class="headerlink" href="#entity-relationship-design-issues" title="Permanent link">⚓︎</a></h2>
<h3 id="common-mistakes-in-e-r-diagrams">Common Mistakes in E-R Diagrams<a class="headerlink" href="#common-mistakes-in-e-r-diagrams" title="Permanent link">⚓︎</a></h3>
<p>在<span class="heti-skip"><span class="heti-spacing"> </span>E-R<span class="heti-spacing"> </span></span>模型的设计中，常犯的错误有：</p>
<ul>
<li>某个实体集的主键作为另一个实体集的属性，而不是使用联系将两者关联起来。这不仅形成了一种不太受欢迎的隐式联系，而且还产生了冗余信息（同一属性出现在两个实体集上<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。</li>
<li>某个实体集的主键作为联系集的属性。这种做法是多余的，因为主键属性已经内含于联系集本身。</li>
<li>
<p>对于某个联系，在需要用到多值属性的时候仍然选择使用单值属性（如下图所示，<span>mark<span class="heti-spacing"> </span></span>属性可以有多个值<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>。有以下可选的解决方案：</p>
<p></p><div style="text-align: center">
<img src="images/lec6/19.png" width="60%/"/>
</div>
<ul>
<li>使用弱实体集</li>
</ul>
<p></p><div style="text-align: center">
<img src="images/lec6/20.png" width="80%/"/>
</div>
<ul>
<li>使用复合多值属性</li>
</ul>
<p></p><div style="text-align: center">
<img src="images/lec6/21.png" width="60%/"/>
</div>
</li>
</ul>
<h3 id="use-of-entity-sets-vs-attributes">Use of Entity Sets v.s. Attributes<a class="headerlink" href="#use-of-entity-sets-vs-attributes" title="Permanent link">⚓︎</a></h3>
<p>考虑将现实中的某个对象建模为一个属性还是一个实体集时，在根据上下文判断的基础上，遵循一个简单的原则：</p>
<ul>
<li>如果这个对象足够简单，只需记录某个特定的值，那么就用属性表示</li>
<li>如果这个对象包含较多不同的信息，那么用实体集可能更合适</li>
</ul>
<h3 id="use-of-entity-sets-vs-relationship-sets">Use of Entity Sets v.s. Relationship Sets<a class="headerlink" href="#use-of-entity-sets-vs-relationship-sets" title="Permanent link">⚓︎</a></h3>
<p>考虑将现实中的某个对象建模为一个联系集还是一个实体集，这个问题更加复杂，但还是可以遵循一个原则：先尝试用一个联系集表述不同实体之间的行为，如果感觉<span class="heti-skip"><span class="heti-spacing"> </span>OK<span class="heti-spacing"> </span></span>的话那就用联系集，否则的话就用实体集。</p>
<h3 id="binary-vs-n-ary-relationship-sets">Binary v.s. n-ary Relationship Sets<a class="headerlink" href="#binary-vs-n-ary-relationship-sets" title="Permanent link">⚓︎</a></h3>
<p>虽然绝大多数情况下采用的是二元联系集，但有时非二元联系集的表现可能更好，原因有：</p>
<ul>
<li>仅用二元联系集可能增加了设计的复杂性以及总体的存储需求</li>
<li><span>n<span class="heti-spacing"> </span></span>元联系集可能更加清晰地展现实体参与联系的情况</li>
<li>有时可能无法将<span class="heti-skip"><span class="heti-spacing"> </span>n<span class="heti-spacing"> </span></span>元联系集的约束转换到二元联系集的约束</li>
</ul>
<p>实际上，我们总是能够将一个非二元联系集转换为多个等价的二元联系集，具体操作可见下面这个例子。</p>
<details class="example">
<summary>例子</summary>
<p>假如有一个三元联系集<span><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span></span>，关联了三个实体集<span><span class="heti-spacing"> </span><span class="arithmatex">\(A, B, C\)</span></span>。现在用一个实体集<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>替代<span><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span></span>，然后创建以下三个联系集：</p>
<ul>
<li><span class="arithmatex">\(R_A\)</span>：一个从<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(A\)</span><span class="heti-spacing"> </span></span>的多对一的联系集</li>
<li><span class="arithmatex">\(R_B\)</span>：一个从<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B\)</span><span class="heti-spacing"> </span></span>的多对一的联系集</li>
<li><span class="arithmatex">\(R_C\)</span>：一个从<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(C\)</span><span class="heti-spacing"> </span></span>的多对一的联系集</li>
</ul>
<p>其中要求<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>完全参与到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R_A, R_B, R_C\)</span><span class="heti-spacing"> </span></span>中。如果<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>里面有属性，那就全都放到<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>里面。并且还需要为<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>创建一个特殊的识别属性。对于<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(R\)</span><span class="heti-spacing"> </span></span>中的某个联系<span><span class="heti-spacing"> </span><span class="arithmatex">\((a_i, b_i, c_i)\)</span></span>，现在用<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E\)</span><span class="heti-spacing"> </span></span>里面的某个实体<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(e_i\)</span><span class="heti-spacing"> </span></span>替代。那么就要插入以下联系：</p>
<ul>
<li><span><span class="arithmatex">\((e_i, a_i)\)</span><span class="heti-spacing"> </span></span>插入到<span><span class="heti-spacing"> </span><span class="arithmatex">\(R_A\)</span></span></li>
<li><span><span class="arithmatex">\((e_i, b_i)\)</span><span class="heti-spacing"> </span></span>插入到<span><span class="heti-spacing"> </span><span class="arithmatex">\(R_B\)</span></span></li>
<li><span><span class="arithmatex">\((e_i, c_i)\)</span><span class="heti-spacing"> </span></span>插入到<span><span class="heti-spacing"> </span><span class="arithmatex">\(R_C\)</span></span></li>
</ul>
<p>这样我们成功将一个三元联系集转换到二元联系集上，<span>E-R<span class="heti-spacing"> </span></span>图如下所示：</p>
<p></p><div style="text-align: center">
<img src="images/lec6/22.png" width="70%/"/>
</div>
</details></div>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="最后更新">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年6月22日 19:26:01">2025年6月22日 19:26:01</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="创建日期">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2024年10月7日 21:20:16">2024年10月7日 21:20:16</span>
</span>
</aside>
<p style="font-size: 30px; font-weight: 600">评论区</p>
<div>
    如果大家有什么问题或想法，欢迎在下方留言~
  </div>
<!-- Insert generated snippet here -->
<script async="" crossorigin="anonymous" data-category="Announcements" data-category-id="DIC_kwDOMAb9Zs4CfmpP" data-emit-metadata="0" data-input-position="bottom" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="noughtq/notebook" data-repo-id="R_kgDOMAb9Zg" data-strict="0" data-theme="preferred_color_scheme" src="https://giscus.app/client.js">
</script>
<!-- Synchronize Giscus theme with palette -->
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>
<!-- 标题计数器 -->
<link href="/css/counter.css" rel="stylesheet"/>
<!-- 主页个性化 -->
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
</main>
<footer class="md-footer">
<nav aria-label="页脚" class="md-footer__inner md-grid">
<a aria-label="上一页: Lec 5: Advanced SQL" class="md-footer__link md-footer__link--prev" href="5.html">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 256 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z" fill="currentColor"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                上一页
              </span>
<div class="md-ellipsis">
                Lec 5: Advanced SQL
              </div>
</div>
</a>
<a aria-label="下一页: Lec 7: Relational Database Design" class="md-footer__link md-footer__link--next" href="7.html">
<div class="md-footer__title">
<span class="md-footer__direction">
                下一页
              </span>
<div class="md-ellipsis">
                Lec 7: Relational Database Design
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 256 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright" style="margin-left: 33.5%">
<div class="md-copyright__highlight" style="text-align: center">
        Copyright © 2024-2025 <a href="https://github.com/NoughtQ">NoughtQ</a>
</div>
    
    
      Powered by
      <a href="https://www.mkdocs.org/" rel="noopener" target="_blank">
        MkDocs
      </a>
      with theme
      <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
        Material
      </a>
      modified by
      <a href="https://github.com/NoughtQ" rel="noopener" target="_blank">
        NoughtQ
      </a>
<!-- <br> -->
<div style="text-align: center;">
<a href="https://icp.gov.moe/?keyword=20252357" target="_blank">萌ICP备20252357号</a>
</div>
</div>
<div class="md-social">
<a class="md-social__link" href="https://noughtq.top" rel="noopener" target="_blank" title="noughtq.top">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272h16v176c0 35.3 28.7 64 64 64h288c35.3 0 64-28.7 64-64V272h16c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1zM240 320h32c26.5 0 48 21.5 48 48v96H192v-96c0-26.5 21.5-48 48-48" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="https://blog.noughtq.top" rel="noopener" target="_blank" title="blog.noughtq.top">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M224 24c0-13.3 10.7-24 24-24 145.8 0 264 118.2 264 264 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-119.3-96.7-216-216-216-13.3 0-24-10.7-24-24M80 96c26.5 0 48 21.5 48 48v224c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48c-8.8 0-16-7.2-16-16v-64c0-8.8 7.2-16 16-16 79.5 0 144 64.5 144 144s-64.5 144-144 144S32 447.5 32 368V144c0-26.5 21.5-48 48-48m168 0c92.8 0 168 75.2 168 168 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3-53.7-120-120-120-13.3 0-24-10.7-24-24s10.7-24 24-24" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="https://github.com/noughtq" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="mailto:noughtq666@gmail.com" rel="noopener" target="_blank" title="">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "content.footnote.tooltips", "navigation.tabs", "navigation.top", "navigation.footer", "navigation.indexes", "navigation.tracking", "navigation.prune", "search.share"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
<script src="../../js/anchor.js"></script>
<script src="../../js/katex.js"></script>
<script src="../../js/toc.js"></script>
<script src="../../js/typed.js"></script>
<script src="../../js/custom.js"></script>
<script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
<script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
</body>
</html>