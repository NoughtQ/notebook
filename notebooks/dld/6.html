
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="NoughtQ">
      
      
      
        <link rel="prev" href="5.html">
      
      
        <link rel="next" href="7.html">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Chap 6 Registers and Register Transfers - NoughtQ的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=JetBrains+Mono,+LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"JetBrains Mono, LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/toc_extra.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chap-6-registers-and-register-transfers" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="NoughtQ的笔记本" class="md-header__button md-logo" aria-label="NoughtQ的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NoughtQ的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chap 6 Registers and Register Transfers
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefer-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Light Mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light Mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefer-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Dark Mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Dark Mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/noughtq/notebook" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    NoughtQ's Notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../index.html" class="md-tabs__link">
          
  
    
  
  主页

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../calculus/index.html" class="md-tabs__link">
          
  
    
  
  笔记

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tools/git.html" class="md-tabs__link">
          
  
    
  
  工具

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../exp/interview.html" class="md-tabs__link">
          
  
    
  
  经验

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NoughtQ的笔记本" class="md-nav__button md-logo" aria-label="NoughtQ的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    NoughtQ的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/noughtq/notebook" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    NoughtQ's Notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
      
        
          
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    主页
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            主页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    笔记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数学相关
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            数学相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../calculus/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    微积分
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_2_1_1">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            微积分
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../calculus/7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第七章 矢量代数与空间解析几何
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../calculus/8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第八章 多元函数微分学
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../calculus/9.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第九章 多元函数积分学
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../calculus/10.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十章 第二类曲线积分与第二类曲面积分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../calculus/11.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十一章 级数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../calculus/appendix.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    附录
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../dm/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    离散数学
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_2_1_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            离散数学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 1 The Foundations: Logic and Proofs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 2 Basic Structures: Sets, Functions, Sequences, Sums, and Matrices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 3 Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 4 Number Theory and Cryptography
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 5 Induction and Recursion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 6 Counting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 8 Advanced Counting Techniques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/9.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 9 Relations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/10.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 10 Graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/11.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 11 Trees
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dm/Glossary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    算法相关
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            算法相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../fds/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数据结构基础
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_2_2_1">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            数据结构基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 2 Algorithm Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 3 Lists, Stacks, and Queues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 4 Trees
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 5 Hashing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 6 Priority Queues(Heaps)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 7 Sorting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 8 The Disjoint Set ADT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fds/9.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 9 Graph Algorithm
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    硬件相关
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            硬件相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数字逻辑设计
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_2_3_1">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            数字逻辑设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 1 Digital Systems and Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 2 Combinational Logic Circuit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 3 Combinational Logical Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 4 Sequential Circuits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 5 Digital HardWare Implementation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Chap 6 Registers and Register Transfers
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="6.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Chap 6 Registers and Register Transfers
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#registers-and-load-enable" class="md-nav__link">
    Registers and Load Enable
  </a>
  
    <nav class="md-nav" aria-label="Registers and Load Enable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registers-with-clock-gating" class="md-nav__link">
    Registers with Clock Gating
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registers-with-load-controlled-feedback" class="md-nav__link">
    Registers with Load-Controlled Feedback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datapath-and-control-signals" class="md-nav__link">
    Datapath and Control Signals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-transfer-operations" class="md-nav__link">
    Register Transfer Operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#microoperations" class="md-nav__link">
    Microoperations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-transfer-structures" class="md-nav__link">
    Register Transfer Structures
  </a>
  
    <nav class="md-nav" aria-label="Register Transfer Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiplexer-based-transfers" class="md-nav__link">
    Multiplexer-Based Transfers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-based-transfers" class="md-nav__link">
    Bus-Based Transfers
  </a>
  
    <nav class="md-nav" aria-label="Bus-Based Transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dedicated-mux-based-transfers" class="md-nav__link">
    Dedicated MUX-Based Transfers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiplexer-bus" class="md-nav__link">
    Multiplexer Bus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#three-state-bus" class="md-nav__link">
    Three-State Bus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shift-registers" class="md-nav__link">
    Shift Registers
  </a>
  
    <nav class="md-nav" aria-label="Shift Registers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serial-shift-register" class="md-nav__link">
    Serial Shift Register
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-load-shift-registers" class="md-nav__link">
    Parallel Load Shift Registers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shift-registers-with-additional-functions" class="md-nav__link">
    Shift Registers with Additional Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#counters" class="md-nav__link">
    Counters
  </a>
  
    <nav class="md-nav" aria-label="Counters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ripple-counters" class="md-nav__link">
    Ripple Counters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronous-counters" class="md-nav__link">
    Synchronous Counters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-counters" class="md-nav__link">
    Other Counters
  </a>
  
    <nav class="md-nav" aria-label="Other Counters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#up-down-binary-counter" class="md-nav__link">
    Up-Down Binary Counter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#counter-with-parallel-load" class="md-nav__link">
    Counter with Parallel Load
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronous-bcd" class="md-nav__link">
    Synchronous BCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#counting-modulo-n" class="md-nav__link">
    Counting Modulo N
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-cell-design" class="md-nav__link">
    Register Cell Design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-of-register-transfers" class="md-nav__link">
    Control of Register Transfers
  </a>
  
    <nav class="md-nav" aria-label="Control of Register Transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-to-register-transfer-systems" class="md-nav__link">
    Introduction to Register Transfer Systems
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-transfer-system-design-procedure" class="md-nav__link">
    Register Transfer System Design Procedure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microprogrammed-control" class="md-nav__link">
    Microprogrammed Control
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serial-transfers-and-microoperations" class="md-nav__link">
    Serial Transfers and Microoperations
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chap 7 Memory Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="verilog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verilog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/git.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/vim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vim
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    经验
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            经验
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../exp/interview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../exp/freshman.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大一の学习经验
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#registers-and-load-enable" class="md-nav__link">
    Registers and Load Enable
  </a>
  
    <nav class="md-nav" aria-label="Registers and Load Enable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registers-with-clock-gating" class="md-nav__link">
    Registers with Clock Gating
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registers-with-load-controlled-feedback" class="md-nav__link">
    Registers with Load-Controlled Feedback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datapath-and-control-signals" class="md-nav__link">
    Datapath and Control Signals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-transfer-operations" class="md-nav__link">
    Register Transfer Operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#microoperations" class="md-nav__link">
    Microoperations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-transfer-structures" class="md-nav__link">
    Register Transfer Structures
  </a>
  
    <nav class="md-nav" aria-label="Register Transfer Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiplexer-based-transfers" class="md-nav__link">
    Multiplexer-Based Transfers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-based-transfers" class="md-nav__link">
    Bus-Based Transfers
  </a>
  
    <nav class="md-nav" aria-label="Bus-Based Transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dedicated-mux-based-transfers" class="md-nav__link">
    Dedicated MUX-Based Transfers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiplexer-bus" class="md-nav__link">
    Multiplexer Bus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#three-state-bus" class="md-nav__link">
    Three-State Bus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shift-registers" class="md-nav__link">
    Shift Registers
  </a>
  
    <nav class="md-nav" aria-label="Shift Registers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serial-shift-register" class="md-nav__link">
    Serial Shift Register
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-load-shift-registers" class="md-nav__link">
    Parallel Load Shift Registers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shift-registers-with-additional-functions" class="md-nav__link">
    Shift Registers with Additional Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#counters" class="md-nav__link">
    Counters
  </a>
  
    <nav class="md-nav" aria-label="Counters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ripple-counters" class="md-nav__link">
    Ripple Counters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronous-counters" class="md-nav__link">
    Synchronous Counters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-counters" class="md-nav__link">
    Other Counters
  </a>
  
    <nav class="md-nav" aria-label="Other Counters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#up-down-binary-counter" class="md-nav__link">
    Up-Down Binary Counter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#counter-with-parallel-load" class="md-nav__link">
    Counter with Parallel Load
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronous-bcd" class="md-nav__link">
    Synchronous BCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#counting-modulo-n" class="md-nav__link">
    Counting Modulo N
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-cell-design" class="md-nav__link">
    Register Cell Design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-of-register-transfers" class="md-nav__link">
    Control of Register Transfers
  </a>
  
    <nav class="md-nav" aria-label="Control of Register Transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-to-register-transfer-systems" class="md-nav__link">
    Introduction to Register Transfer Systems
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-transfer-system-design-procedure" class="md-nav__link">
    Register Transfer System Design Procedure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microprogrammed-control" class="md-nav__link">
    Microprogrammed Control
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serial-transfers-and-microoperations" class="md-nav__link">
    Serial Transfers and Microoperations
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
  
  

  
  
    <head><link rel="stylesheet" href="/css/counter.css"></head>
  
  <h1 id="chap-6-registers-and-register-transfers">Chap 6 Registers and Register Transfers<a class="headerlink" href="#chap-6-registers-and-register-transfers" title="Permanent link">&para;</a></h1>
<div markdown="1" style="margin-top: -30px; font-size: 0.8em; opacity: 0.7;">
约 6932 个字 , 预计阅读时间 35 分钟
</div>
<!-- :material-circle-edit-outline:-->
<!--:fontawesome-solid-code: -->
<!--:material-clock-time-two-outline: -->

<h2 id="registers-and-load-enable">Registers and Load Enable<a class="headerlink" href="#registers-and-load-enable" title="Permanent link">&para;</a></h2>
<details class="info">
<summary>引入</summary>
<p>当n很大时，状态和输入组合的数量将随之变大，此时用状态图/状态表模型的表示就不太现实了。所以，我们用<strong>寄存器传输层级(Register Transfer Level, RTL)</strong> 设计模型来描述复杂电路的大量状态。在RTL设计方法中，通过不同类型的寄存器和组合电路来构建基本块，实现时序逻辑电路的设计。</p>
<p>大型数字系统的设计往往采用<em>模块化(modular)</em>、<em>分层(hierarchical)</em> 的方法，将系统划分为一些子系统或模块，包括寄存器、计数器、译码器、多路复用器、总线、算术元件、触发器和基本门等。</p>
<p>可将这一节视为时序逻辑电路的延伸。</p>
</details>
<p>n位<strong>寄存器(register)</strong> 由一组<em>触发器</em>和<em>组合逻辑门</em>构成，用来实现多位数据的存储等操作</p>
<ul>
<li>n位触发器<em>保持数据</em>，或者存储二进制向量值</li>
<li>组合逻辑门<em>执行数据加工</em>任务</li>
</ul>
<p><a href="#counters"><strong>计数器(counter)</strong></a>：随着时间脉冲的变化，不断在包含状态的固定序列内循环“扫描”的一种寄存器</p>
<p>寄存器和计数器都是<strong>时序函数块(sequential functional blocks)</strong></p>
<ul>
<li>寄存器主要用于存储和操纵信息</li>
<li>计数器主要用于序列和控制操作</li>
</ul>
<p>🌰：</p>
<ol>
<li>2位寄存器</li>
</ol>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_192854.png" width="60%" style="margin: 0 auto;">
</div>

<ol>
<li>4位寄存器</li>
</ol>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_212321.png" width="60%" style="margin: 0 auto;">
</div>

<ul>
<li>
<p>这里多了一个<em>清除输入</em><span class="arithmatex">\(\overline{Clear}\)</span>，用于在正式运行前的初始化(寄存器的所有值均置0)，当<span class="arithmatex">\(\overline{Clear} = 0\)</span>时，对触发器进行<u>异步复位</u>。在正常运行时，<span class="arithmatex">\(\overline{Clear}\)</span>应保持1，除非需要复位。这个输入是可选的。</p>
</li>
<li>
<p>D触发器寄存器能在每个时钟周期里<em>加载(loading)</em> 信息</p>
<blockquote>
<p>加载(loading)：将新的信息传输至寄存器内。如果加载操作在同一时钟脉冲内完成，称之为<em>并行</em>完成。</p>
</blockquote>
</li>
</ul>
<p><strong>负载(load)</strong>：控制寄存器的存储和加载的信号：</p>
<ul>
<li>load = 1：<em>加载</em>数据输入的值</li>
<li>load = 0：将值<em>存储</em>至寄存器内</li>
</ul>
<p>寄存器的符号：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_212948.png" width="30%" style="margin: 0 auto;">
</div>

<blockquote>
<p>注：由于Clear写在方框内部，且外部有个圆圈，因此Clear没有取反；但如果Clear写在外面，就需要写成<span class="arithmatex">\(\overline{Clear}\)</span></p>
</blockquote>
<p>为了更合理地<em>存储</em>或<em>加载</em>信息，寄存器需要由<em>控制信号</em>控制，实现方法如下：</p>
<ul>
<li>用一个信号来<em>阻止</em>寄存器的<em>时钟输入</em> <!-- 👉[[Chap 6 Registers and  Register Transfers#Registers with Clock Gating|传送门]] --></li>
<li>用一个信号，将寄存器的输出<em>反馈</em>至它的输入<!--👉[[Chap 6 Registers and  Register Transfers#Registers with Load-Controlled Feedback|传送门]]--></li>
</ul>
<h3 id="registers-with-clock-gating">Registers with Clock Gating<a class="headerlink" href="#registers-with-clock-gating" title="Permanent link">&para;</a></h3>
<blockquote>
<p>主时钟生成器(master clock generator)：提供一系列的时钟脉冲，应用于所有触发器和寄存器</p>
</blockquote>
<p><strong>门控时钟(clock gating)</strong>：通过逻辑门，对寄存器的时钟进行开关操作。
<a href="images/C6/Quicker_20240516_194555.png"></a></p>
<p>此时控制信号<span class="arithmatex">\(C = Clock + \overline{Load}\)</span></p>
<ul>
<li>当<span class="arithmatex">\(Load = 0\)</span>时，<span class="arithmatex">\(C = 1\)</span>，时钟信号失效，寄存器无法加载数据</li>
<li>当<span class="arithmatex">\(Load = 1\)</span>时，<span class="arithmatex">\(C = Clock\)</span>，时钟信号生效，寄存器可以加载数据</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">可能的问题</p>
<p>门的使用产生不同的传播延迟，从而导致<strong>时钟偏差(time skew)</strong> 的产生，即在同步时序电路中，相同的源时钟信号在不同的时间里到达不同的元件中。我们将采用下面的方法避免这个问题👇</p>
</div>
<h3 id="registers-with-load-controlled-feedback">Registers with Load-Controlled Feedback<a class="headerlink" href="#registers-with-load-controlled-feedback" title="Permanent link">&para;</a></h3>
<p>解决方案：</p>
<ul>
<li>保持时钟的连续运行</li>
<li>选择性地使用<em>加载控制</em>，来改变寄存器内的值
电路实现：</li>
</ul>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_213809.png" width="80%" style="margin: 0 auto;">
</div>

<ul>
<li><span class="arithmatex">\(EN = 0\)</span>时，<span class="arithmatex">\(D = Q\)</span>，也就是保持之前的值</li>
<li><span class="arithmatex">\(EN = 1\)</span>时，<span class="arithmatex">\(D\)</span>加载新的值</li>
</ul>
<p>这种电路被称为<strong>带使能的D触发器(D flip-flop with enable)</strong>，可避免时钟偏差，所以更推荐这个方案。</p>
<p>🌰：带有<em>并行加载</em>的4位寄存器</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_213721.png" width="60%" style="margin: 0 auto;">
</div>

<h3 id="datapath-and-control-signals">Datapath and Control Signals<a class="headerlink" href="#datapath-and-control-signals" title="Permanent link">&para;</a></h3>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_200302.png" width="60%" style="margin: 0 auto;">
</div>

<ul>
<li><strong>数据通路(datapath)</strong> 是执行数据加工操作(寄存器传输和微操作)的一组函数单元(比如ALU, MUX)，寄存器和总线</li>
<li><strong>控制单元(control unit)</strong> 产生控制信号，告诉数据通路要做什么(决定操作序列)</li>
</ul>
<h2 id="register-transfer-operations">Register Transfer Operations<a class="headerlink" href="#register-transfer-operations" title="Permanent link">&para;</a></h2>
<p><strong>寄存器传输操作(register transfer operations)</strong>：对存储于寄存器内的数据进行移动和加工操作，它由以下部分组成：</p>
<ul>
<li>一组<em>寄存器</em></li>
<li><strong>微操作(microoperations)</strong>：对存储于寄存器内的数据进行的基本操作，比如加载(load)、计数(count)、移位(shift)、加(add)、按位或(bitwise OR)，等等</li>
<li><em>控制</em>操作：监督系统的操作序列</li>
</ul>
<p><strong>寄存器传输语言(register transfer language, RTL)</strong>：一种用于描述寄存器传输中的逻辑行为的语言</p>
<p>表示寄存器的图形化符号：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_200910.png" width="80%" style="margin: 0 auto;">
</div>

<p>RTL中的常用表示法：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_200954.png" width="80%" style="margin: 0 auto;">
</div>

<details class="info" open="open">
<summary>注</summary>
<ul>
<li>特殊意义的字母：<ul>
<li>AR：地址寄存器(address register)</li>
<li>PC：程序计数器(program counter)</li>
<li>IR：命令寄存器(instruction register)</li>
</ul>
</li>
<li>n位寄存器，标号为0~n-1，默认0标在最右边，从右往左标号，这种顺序称为<em>小端序(little-endian)</em>，相反的顺序(即0在最左边，从左往右标号)称为<em>大端序(big-endian)</em></li>
<li>看到上方图(d)：我们用L表示低阶字节0<sub>7，用H表示高阶字节8</sub>15。PC(L)可以写成PC(7:0)，PC(H)可以写成PC(15:8)</li>
<li>R1 <span class="arithmatex">\(\leftarrow\)</span> R2表示将R2的<u>副本值</u>传输给R1，其中R2被称为<em>源(source)</em>，R1被称为<em>目的地(destination)</em></li>
<li>时钟不会出现在寄存器传输操作中</li>
</ul>
</details>
<p><strong>条件传输(conditional transfer)</strong></p>
<p><strong>控制表达式(control expression)</strong> 具体说明了运算的逻辑条件：</p>
<ul>
<li>if 控制表达式 == 逻辑‘1’ <span class="arithmatex">\(\rightarrow\)</span> 执行运算</li>
<li>if 控制表达式 == 逻辑‘0’ <span class="arithmatex">\(\rightarrow\)</span> 不执行运算</li>
</ul>
<p>If (K1 = 1) then (R2 <span class="arithmatex">\(\leftarrow\)</span> R1) 可以简记为：
$$
K1: (R2 \leftarrow R1)
$$
其中K1为控制变量，具体说明微操作的条件执行</p>
<p>图示：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240516_201253.png" width="80%" style="margin: 0 auto;">
</div>

<p>而<span class="arithmatex">\(K3: R2 \leftarrow R1, R1 \leftarrow R2\)</span> 表示同时<em>交换</em>R1和R2的值</p>
<p>RTL, VHDL和Verilog的寄存器传输符号</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240525_152148.png" width="80%" style="margin: 0 auto;">
</div>

<h2 id="microoperations">Microoperations<a class="headerlink" href="#microoperations" title="Permanent link">&para;</a></h2>
<p><strong>微操作(microoperation)</strong> 的4种类型：</p>
<ul>
<li><em>传输(transfer)</em>：将数据从某个寄存器移到另一个</li>
<li><em>算术(arithmetic)</em>：对存储器内的数据执行算术运算<ul>
<li>加法 +</li>
<li>减法 -（一般用补码实现，具体操作见[[Chap 3 Combinational Logical Design#Unsigned 2's Complement Subtraction|这里]]）</li>
<li>乘法 *</li>
<li>除法 /</li>
</ul>
</li>
<li><em>逻辑(logic)</em>：操纵数据，或者执行按位逻辑运算<ul>
<li>逻辑或 <span class="arithmatex">\(\vee\)</span></li>
<li>逻辑与 <span class="arithmatex">\(\wedge\)</span></li>
<li>逻辑异或 <span class="arithmatex">\(\oplus\)</span></li>
<li>非 <span class="arithmatex">\(\overline{}\)</span></li>
</ul>
</li>
<li><em>移位(shift)</em>：对寄存器内的数据进行移位</li>
</ul>
<div class="admonition note">
<p class="admonition-title">具体描述</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">算术微操作</label><label for="__tabbed_1_2">逻辑微操作</label><label for="__tabbed_1_3">移位微操作</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_193050.png" width="80%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：关注第2,3行(反码、补码的表示)</p>
</blockquote>
<div class="admonition example">
<p class="admonition-title">加法/减法器</p>
<blockquote>
<p>运算结果赋给R1</p>
</blockquote>
<div class="arithmatex">\[
\begin{align}
\overline{X} \cdot K1: &amp; R1 \leftarrow R1 + R2 \notag \\
X \cdot K1: &amp; R1 \leftarrow R1 + \overline{R2} + 1 \notag
\end{align}
\]</div>
<blockquote>
<p>注：<span class="arithmatex">\(X\)</span>决定运算模式(0：加法，1：减法)，<span class="arithmatex">\(K1\)</span>为使能信号</p>
</blockquote>
<p>电路实现：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_194107.png" width="80%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：<strong>溢出(即最高位的进位)</strong> 输出会被传输到V中(一个触发器)(前提是K1 = 1)</p>
</blockquote>
</div>
</div>
<div class="tabbed-block">
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_194318.png" width="60%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：对于n位的寄存器，一个逻辑微操作需要的门的数量为n个</p>
</blockquote>
<details class="example">
<summary>Example</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">区别一些符号</label><label for="__tabbed_2_2">掩码</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="arithmatex">\[
(K1 + K2):\ R1 \leftarrow R1 \vee R3
\]</div>
<blockquote>
<p>注：</p>
<ul>
<li>条件中出现的'+'表示“或”运算</li>
<li>而<span class="arithmatex">\(R1 \leftarrow R1 + R3\)</span> 中的‘+’表示“加法”微操作</li>
<li>用“<span class="arithmatex">\(\vee\)</span>”表示“或”微操作</li>
</ul>
</blockquote>
</div>
<div class="tabbed-block">
<ul>
<li>逻辑与：
        <div style="text-align: center; margin-top: 15px;">
        <img src="images/C6/Quicker_20240524_211432.png" width="60%" style="margin: 0 auto;">
        </div>
可以发现我们仅保留了R1的低位部分，高位部分均变成0</li>
<li>逻辑或：
        <div style="text-align: center; margin-top: 15px;">
        <img src="images/C6/Quicker_20240524_211641.png" width="60%" style="margin: 0 auto;">
        </div>
可以发现我们仅保留了R1的低位部分，高位部分均变成1</li>
<li>逻辑异或：可以发现R1的低位部分得到保留，而高位部分全部取反
        <div style="text-align: center; margin-top: 15px;">
        <img src="images/C6/Quicker_20240524_211716.png" width="60%" style="margin: 0 auto;">
        </div></li>
</ul>
</div>
</div>
</div>
</details>
</div>
<div class="tabbed-block">
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_194436.png" width="60%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：</p>
<ul>
<li>具体实现方法见<a href="#shift-registers">移位寄存器</a>部分</li>
<li>移位往往用到“<em>0填充(zero fill)</em>”：左移-右边补0，右移-左边补0。这样的位称为<strong>进入位(incoming bit)</strong></li>
<li>移出去的位一般就抛弃掉，这种位称为<strong>移出位(outgoing bit)</strong></li>
<li>有时，需要用1个单独的触发器提供要移位的数据，或者获取移位后的数据</li>
<li>还有更复杂的移位（翻转，算术运算……），这里就略过了</li>
<li>还可以实现多个位的移动，如果通过1个变量指定移动的位数，称该变量为<em>移位量(shift amount)</em></li>
</ul>
</blockquote>
</div>
</div>
</div>
</div>
<h2 id="register-transfer-structures">Register Transfer Structures<a class="headerlink" href="#register-transfer-structures" title="Permanent link">&para;</a></h2>
<p>类别：</p>
<ul>
<li><strong>基于多路选择器的传输(multiplexer-based transfer)</strong>：由寄存器的专有(dedicated)MUX，从多个输入中进行挑选</li>
<li><strong>基于总线的传输(bus-based transfer)</strong>：由一个共用的MUX(它驱动一条向多个寄存器提供输入的总线)从多个输入中进行挑选</li>
<li><strong>三态总线(three-state bus)</strong>：由一个三态门驱动器(其输出与供给多个寄存器的总线相连接)从多个输入中进行挑选</li>
<li>其他传输结构：使用多个MUX，多条总线，或者上述类别的组合</li>
</ul>
<h3 id="multiplexer-based-transfers">Multiplexer-Based Transfers<a class="headerlink" href="#multiplexer-based-transfers" title="Permanent link">&para;</a></h3>
<p>🌰：</p>
<p>$$
K1: R0 \leftarrow R1 \quad K2\overline{K1}: R0 \leftarrow R2
$$
框图：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_195959.png" width="60%" style="margin: 0 auto;">
</div>

<p>更详细的内部结构图：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_200055.png" width="80%" style="margin: 0 auto;">
</div>

<h3 id="bus-based-transfers">Bus-Based Transfers<a class="headerlink" href="#bus-based-transfers" title="Permanent link">&para;</a></h3>
<p>总线传输的实现方法：</p>
<ul>
<li>多路选择器</li>
<li>三态门</li>
</ul>
<h4 id="dedicated-mux-based-transfers">Dedicated MUX-Based Transfers<a class="headerlink" href="#dedicated-mux-based-transfers" title="Permanent link">&para;</a></h4>
<blockquote>
<p>事实上，这里的寄存器传输并不是用总线实现的，放在这里是为了和下面基于总线的传输进行对照</p>
</blockquote>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_201840.png" width="60%" style="margin: 0 auto;">
</div>

<ul>
<li>每个MUX都是某个寄存器的<strong>专用逻辑(dedicated logic)</strong>(后面会讲到)</li>
<li>能够实现同步传输</li>
</ul>
<h4 id="multiplexer-bus">Multiplexer Bus<a class="headerlink" href="#multiplexer-bus" title="Permanent link">&para;</a></h4>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_202145.png" width="60%" style="margin: 0 auto;">
</div>

<p>注：</p>
<ul>
<li>由一个MUX驱动的单个总线，也就是说该MUX是寄存器的<strong>共用逻辑(shared logic)</strong></li>
<li>优点：电路更精简，成本更低</li>
<li>缺点：同一时间内只能传输一个数据</li>
</ul>
<h4 id="three-state-bus">Three-State Bus<a class="headerlink" href="#three-state-bus" title="Permanent link">&para;</a></h4>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_202613.png" width="50%" style="margin: 0 auto;">
</div>

<p>注：</p>
<ul>
<li>用三态门替代3输入MUX，进一步减少成本，但传输还是受限的</li>
<li>这里的符号可以进一步简化，最终可以得到右侧的电路图</li>
</ul>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240606_095926.png" width="80%" style="margin: 0 auto;">
</div>

<ul>
<li>这里我们用到了使能信号<span class="arithmatex">\(EN\)</span>：当<span class="arithmatex">\(EN = 1\)</span>时表示输出，当<span class="arithmatex">\(EN = 0\)</span>时表示输入</li>
<li>真正决定是否读入寄存器的是<span class="arithmatex">\(Load\)</span></li>
</ul>
<h2 id="shift-registers">Shift Registers<a class="headerlink" href="#shift-registers" title="Permanent link">&para;</a></h2>
<p><strong>移位寄存器(shift register)</strong> 能将数据向MSB或LSB的位置移动</p>
<h3 id="serial-shift-register">Serial Shift Register<a class="headerlink" href="#serial-shift-register" title="Permanent link">&para;</a></h3>
<p>移位寄存器最简单的实现：仅用一组按行排列连接起来的<em>D触发器</em>构成：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240606_100831.png" width="80%" style="margin: 0 auto;">
</div>

<ul>
<li><strong>串行输入/右移输入(serial input/ shift right input)</strong>——数据输入</li>
<li><strong>串行输出(serial output)</strong>——数据输出</li>
</ul>
<p>符号：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_204524.png" width="50%" style="margin: 0 auto;">
</div>

<p><img alt="🌰" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f330.svg" title=":chestnut:" /></p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_204746.png" width="60%" style="margin: 0 auto;">
</div>

<ul>
<li>CP表示时钟脉冲，<span class="arithmatex">\(T_i\)</span>表示第i个时钟周期</li>
<li>'?'表示未知状态，</li>
</ul>
<h3 id="parallel-load-shift-registers">Parallel Load Shift Registers<a class="headerlink" href="#parallel-load-shift-registers" title="Permanent link">&para;</a></h3>
<p>"并行"主要体现在两方面：</p>
<ul>
<li><strong>并行输出(parallel output)</strong>：在同一时钟周期内得到所有触发器的结果</li>
<li><strong>并行载入(parallel load)</strong>：在同一时钟周期内对所有触发器载入数据</li>
</ul>
<p>n位<strong>并行负载移位寄存器(parallel load shift registers)</strong></p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_205721.png" width="80%" style="margin: 0 auto;">
</div>

<p>细节分析：</p>
<ul>
<li>观察右侧的触发器，发现其结构大致类似上面的串行移位</li>
<li>
<p>较麻烦的可能还是分析每个触发器的逻辑门，每个与门的功能如下：</p>
<ul>
<li>第一个与门<span class="arithmatex">\(F_{i1} = \begin{cases}Shift \cdot SI &amp; \text{第一个FF} \\ Shift \cdot F_{(i-1)1} &amp; \text{其余FF}\end{cases}\)</span>，当<span class="arithmatex">\(Shift = 1\)</span>时，寄存器执行<strong>移位</strong>操作</li>
<li>第二个与门<span class="arithmatex">\(F_{i2} = \overline{Shift} \cdot Load \cdot D_i\)</span>，当<span class="arithmatex">\(\overline{Shift} \cdot Load = 1\)</span>时，寄存器执行<strong>并行加载</strong></li>
<li>第三个与门<span class="arithmatex">\(F_{i3} = \overline{Shift} \cdot \overline{Load} 
\cdot Q_i\)</span>，当<span class="arithmatex">\(\overline{Shift} \cdot \overline{Load} = 1\)</span>时，寄存器<strong>保持</strong>上次的值</li>
</ul>
</li>
</ul>
<p>功能表：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_205851.png" width="50%" style="margin: 0 auto;">
</div>

<h3 id="shift-registers-with-additional-functions">Shift Registers with Additional Functions<a class="headerlink" href="#shift-registers-with-additional-functions" title="Permanent link">&para;</a></h3>
<p>上述移位寄存器只能进行单向移位操作，因此被称为<strong>无向移位寄存器(undirectional SHR)</strong>。下面我们将实现一个具备<em>右移</em>、<em>左移</em>、<em>并行加载</em>、<em>保持</em>功能的SHR，被称为<strong>双向移位寄存器(bidirectional SHR)</strong></p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_210405.png" width="70%" style="margin: 0 auto;">
</div>

<p>功能表：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_210449.png" width="50%" style="margin: 0 auto;">
</div>

<h2 id="counters">Counters<a class="headerlink" href="#counters" title="Permanent link">&para;</a></h2>
<p><strong>计数器(counter)</strong> 是一种时序电路，它在特定的状态序列中进行计数，能够向上数、向下数等等</p>
<p>两种常见类型：</p>
<ul>
<li>
<p><strong>异步计数器/行波计数器(asynchronous counters/ripple counters)</strong></p>
<ul>
<li>对于表示最低位的触发器，它的时钟输入与时钟相连</li>
<li>对于表示其他位的触发器，它们的输出与时钟输入相连，因此电路不是同步的</li>
<li>当逐位接近最高位时，输出发生改变的延迟将会越来越大</li>
<li>优点：低能耗</li>
</ul>
</li>
<li>
<p><strong>同步计数器(synchronous counters)</strong></p>
<ul>
<li>时钟与触发器的时钟输入直接相连</li>
<li>用逻辑实现想要的状态序列</li>
</ul>
</li>
</ul>
<h3 id="ripple-counters">Ripple Counters<a class="headerlink" href="#ripple-counters" title="Permanent link">&para;</a></h3>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_211929.png" width="60%" style="margin: 0 auto;">
</div>

<p>工作流程：</p>
<ul>
<li>当触发器A的时钟输入出现正边沿时，A取补</li>
<li>触发器B的时钟输入是触发器A的输出的补</li>
<li>当触发器A的输出从1 <span class="arithmatex">\(\rightarrow\)</span> 0时，触发器B的时钟输入就会出现正边沿，导致B取补
下面的时序图可以更加直观地展示上述内容：</li>
</ul>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_212423.png" width="60%" style="margin: 0 auto;">
</div>

<blockquote>
<p>注：</p>
<ul>
<li>蓝绿色箭头表示“工作流程”所述的因果关系</li>
<li>对应的状态序列(B, A) = (0, 0), (0, 1), (1, 0), (1, 1), (0, 0), (0, 1)……</li>
</ul>
</blockquote>
<details class="note" open="open">
<summary>理解行波计数器</summary>
<p>这种电路之所以成为行波计数器，是因为每次边沿的变化（这里是正边沿）都会导致下一个触发器状态的改变。这种变化就像水面的涟漪一样在触发器“链”上传播(每次变化发生于前一阶段的时钟-输出延迟之后)</p>
</details>
<hr />
<p>对于3位行波计数器，当C = B = A = 1时，计数器的状态为(C, B, A) = (1, 1, 1)，下一次时钟的增加使得(C, B, A) = (0, 0, 0)。从下面的时序图中，我们发现：</p>
<ul>
<li>时钟-输出延迟<span class="arithmatex">\(t_{PHL}\)</span>导致时钟边沿不断增加的延迟</li>
<li>对于n为行波计数器，最坏情况的延迟为<span class="arithmatex">\(n \cdot t_{PHL}\)</span></li>
</ul>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240522_213411.png" width="60%" style="margin: 0 auto;">
</div>

<p>4位行波计数器的框图</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_213104.png" width="60%" style="margin: 0 auto;">
</div>

<h3 id="synchronous-counters">Synchronous Counters<a class="headerlink" href="#synchronous-counters" title="Permanent link">&para;</a></h3>
<p>为了消除行波影响，我们让每个触发器使用共同的时钟，并用一个组合电路来生成下一状态。例如对于升计数器(up-counter)，我们会使用一个<strong>自增器(incrementer)</strong></p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_195317.png" width="60%" style="margin: 0 auto;">
</div>

<p>内部细节：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_195610.png" width="70%" style="margin: 0 auto;">
</div>

<ul>
<li>内部逻辑：蓝色方框表示<a href="3.html#incrementing-and-decrementing">自增器</a></li>
<li><strong>计数使能(count enable, EN)</strong>：迫使与门链的输出均为0，用来保持状态</li>
<li><strong>出进位(carry out, CO)</strong>：自增器的一部分。通过将CO与另一个计数器的EN端连接，构建一个更大的计数器</li>
</ul>
<p>上图中，与门链导致“进位链(carry chain)”的出现，因而产生较长的通路延迟，这种计数器的形式称为<strong>串行门(serial gating)</strong></p>
<p>将与门链 <span class="arithmatex">\(\Rightarrow\)</span> 并列的与门，我们得到了另一种形式——<strong>并行门(parallel gating)</strong>，这种形式减少了通路延迟，类似<a href="3.html#carry-lookahead-addercla">超前进位</a>。它利用CO和EN来阻止较长的通路。逻辑图如下：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_201031.png" width="50%" style="margin: 0 auto;">
</div>

<p>布尔方程：</p>
<div class="arithmatex">\[
\begin{align}
C1 &amp; = EN \cdot Q_0  \notag \\
C2 &amp; = EN \cdot Q_0 \cdot Q_1 \notag \\
C3 &amp; = EN \cdot Q_0 \cdot Q_1 \cdot Q_2 \notag \\
C4 &amp; = EN \cdot Q_0 \cdot Q_1 \cdot Q_2 \cdot Q_3 \notag \\
\end{align}
\]</div>
<p>符号：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_201304.png" width="30%" style="margin: 0 auto;">
</div>

<h3 id="other-counters">Other Counters<a class="headerlink" href="#other-counters" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>降计数器(down counter)</strong>：向下计数</li>
<li><strong>升降计数器(up-down counter)</strong>：既可以向上，也可以向下计数，取决于控制输入的值，比如<span class="arithmatex">\(Up/\overline{Down}\)</span></li>
<li><strong>并行加载计数器(parallel load counter)</strong>：能够并行加载可用的值，取决于控制输入(比如<span class="arithmatex">\(Load\)</span>)</li>
<li><strong>模n计数器(divide-by-n/ modulo n counter)</strong>：<ul>
<li>对除以n的余数进行计数</li>
<li>或者对任意n个状态的序列进行计数（根据具体状态分析）</li>
<li>BCD计数器是一个模10计数器</li>
</ul>
</li>
</ul>
<h4 id="up-down-binary-counter">Up-Down Binary Counter<a class="headerlink" href="#up-down-binary-counter" title="Permanent link">&para;</a></h4>
<p>🌰：4位升降计数器，有使能输入EN，选择输入S(S = 0时向上数，S = 1时向下数)</p>
<p>输入方程：</p>
<p>$$
\begin{align}
D_{A0} &amp; = Q_0 \oplus EN  \notag \
D_{A1} &amp; = Q_1 \oplus ((Q_0 \cdot \overline{S} + \overline{Q_0} \cdot S) \cdot EN) \notag \
D_{A2} &amp; = Q_2 \oplus ((Q_0 \cdot Q_1 \cdot\overline{S} + \overline{Q_0} \cdot \overline{Q_1} \cdot S) \cdot EN) \notag\
D_{A3} &amp; = Q_3 \oplus ((Q_0 \cdot Q_1 \cdot Q_2 \cdot \overline{S} + \overline{Q_0} \cdot \overline{Q_1} \cdot \overline{Q_2} \cdot S) \cdot EN) \notag \
\end{align}
$$
该方程既能用串行门实现，也能用并行门实现，这里就不给出具体的实现了。</p>
<h4 id="counter-with-parallel-load">Counter with Parallel Load<a class="headerlink" href="#counter-with-parallel-load" title="Permanent link">&para;</a></h4>
<p>电路实现：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_211655.png" width="80%" style="margin: 0 auto;">
</div>

<p>功能表：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_211746.png" width="80%" style="margin: 0 auto;">
</div>

<blockquote>
<p>注：可以看到Load的优先级高于Count，因为只要Load = 1，不管Count有什么值，计数器执行加载功能</p>
</blockquote>
<h4 id="synchronous-bcd">Synchronous BCD<a class="headerlink" href="#synchronous-bcd" title="Permanent link">&para;</a></h4>
<p>状态表：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_212110.png" width="70%" style="margin: 0 auto;">
</div>

<blockquote>
<p>注：10-15(即1010-1111)是我们<em>不关心(don't care)</em> 的情况</p>
</blockquote>
<p>使用K-maps，对下一状态的方程进行两级优化，得到以下方程：</p>
<div class="arithmatex">\[
\begin{align}
D_1 &amp; = \overline{Q_1} \notag \\
D_2 &amp; = Q_2 \oplus Q_1\overline{Q_8} \notag \\
D_4 &amp; = Q_4 \oplus Q_1Q_2 \notag \\
D_8 &amp; = Q_8 \oplus (Q_1Q_8 + Q_1Q_2Q_4) \notag \\
\end{align}
\]</div>
<details class="question" open="open">
<summary>思考</summary>
<p>如果计数器的电源受到干扰，或者受到其他影响，使得计数器的状态不在0000-1001之间，会出现什么问题呢？</p>
<p><span class="arithmatex">\(\therefore\)</span> 我们需要让计数器具备“<em>自愈能力(self-healing ability)</em>”，使得它能在2个时钟周期内，从异常状态中回到正常状态——利用好那6个“不关心”的状态，可以实现这个“自愈能力”，状态表和状态图如下：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_213103.png" width="80%" style="margin: 0 auto;">
</div></p>
</details>
<details class="info" open="open">
<summary>考虑更高要求的自愈能力</summary>
<ul>
<li>报错功能：电路需要表明遇到了非法状态。对于上述电路，<span class="arithmatex">\(Error = Q_8Q_4 + Q_8Q_2\)</span></li>
<li>在1个时钟周期内，状态从非法回到合法</li>
<li>从非法状态返回至一个具体的状态(比如0)</li>
</ul>
</details>
<p>另一种实现方法：并行加载二进制计数器 + 与门</p>
<p>电路实现：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_213842.png" width="80%" style="margin: 0 auto;">
</div>

<blockquote>
<p>注：当计数到1001时，Q0 = Q3 = 1，这使得Load = 1，计数器执行加载功能，将读入D(3: 0)的值，即0000，从而实现0-9之间的计数</p>
</blockquote>
<h4 id="counting-modulo-n">Counting Modulo N<a class="headerlink" href="#counting-modulo-n" title="Permanent link">&para;</a></h4>
<p>下列技术将用到带有异步/同步的<em>清空(clear)</em>，以及/或者并行<em>加载(load)</em> 的n位二进制计数器：
+ ❌在模N计数中，当检测到最后的数<em>N</em>时，进行<em>异步清0</em>，或者<em>异步加载值0</em>。然而，这种方法使得数字仅在很短的时间内出现，导致在某些情况下无法正常工作
+ ✅在模N计数中，当检测到最后的数<em>N - 1</em>时，<em>同步清0</em>，或者<em>同步加载值0</em>
+ 检测最后的数，使用加载功能提前预设值，满足==最后的数 - 预设值 = N - 1==，也就是说计数的范围变成了[预设值，最后的数]。实在看不懂的话见下例中第2种实现方法</p>
<blockquote>
<p>注：上面的BCD计数器本质上是一个模10计数器</p>
</blockquote>
<p>🌰：模7计数器</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">常规实现</label><label for="__tabbed_3_2">一点改变</label><label for="__tabbed_3_3">只用触发器 + 组合电路</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_215754.png" width="70%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：原理同BCD计数器，只是它是数到6就要返回0</p>
</blockquote>
</div>
<div class="tabbed-block">
<p>预设加载值9，当数到14时，由于 14 - 9  =  7 - 1，因此需要回到9，计数范围为<span class="arithmatex">\([9, 14]\)</span></p>
<p>电路实现：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240523_220417.png" width="70%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：</p>
<ul>
<li>预设值是在输入D(3: 0)处设置</li>
<li>对于该计数器，如果最后的数设为了15，那么可以利用进位CO检测该最后的值(这样就省去一个与门了)</li>
</ul>
</blockquote>
</div>
<div class="tabbed-block">
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240525_134841.png" width="70%" style="margin: 0 auto;">
</div></p>
</div>
</div>
</div>
<h2 id="register-cell-design">Register Cell Design<a class="headerlink" href="#register-cell-design" title="Permanent link">&para;</a></h2>
<details class="info">
<summary>时序电路设计的两种方法</summary>
<ul>
<li><strong>基本设计方法</strong>：将<em>触发器</em>和<em>逻辑门</em>作为基本的构建模块</li>
<li><strong>寄存器传输层级(register transfer level, RTL)设计</strong>：将不同类型的<em>寄存器</em>(e.g. 计数器，移位寄存器)和<em>函数块</em>(e.g. MUX, 加法器)作为基本的构建模块<blockquote>
<p>注：RTL设计是一种数据流方法——能够将数据从一个寄存器传到另一个</p>
</blockquote>
</li>
</ul>
<p>比较：</p>
<table>
<thead>
<tr>
<th>Basic Design</th>
<th>RTL Design</th>
</tr>
</thead>
<tbody>
<tr>
<td>基本构建块为逻辑门和触发器</td>
<td>基本构建块为寄存器和函数块</td>
</tr>
<tr>
<td>本质上更加机械化</td>
<td>更贴合行为描述，更加符合直觉(建立了数据流模型)</td>
</tr>
<tr>
<td>仅适用于状态数量少的电路</td>
<td>能够实现具有大量状态的复杂电路</td>
</tr>
</tbody>
</table>
</details>
<p>在组合电路中，我们使用迭代阵列实现复杂的组合电路。同样地，我们可以将这种思想运用到时序电路的设计中——将迭代组合电路和触发器相连接，构建一个双态时序电路，称为<strong>寄存器单元(register cell)</strong>。只要我们构建了一个存储器单元，然后复制n份副本，我们就构建出能够执行一个或多个微操作的n位寄存器。</p>
<p>由此，我们得到了寄存器设计的<em>步骤</em>：</p>
<ul>
<li>⭐设计具有代表性的寄存器单元</li>
<li>复制并连接寄存器单元，构成完整的寄存器</li>
<li>修改某几个寄存器单元以解决一些特殊情况或边界问题</li>
</ul>
<p>寄存器单元设计的<em>方法</em>：</p>
<ul>
<li>
<p>MUX：使用n输入MUX，以及一系列的传输源和函数
    <div style="text-align: center; margin-top: 15px;">
    <img src="images/C6/Quicker_20240524_172814.png" width="70%" style="margin: 0 auto;">
    </div></p>
<ul>
<li><strong>专用逻辑(dedicated logic)</strong>：实现微操作的组合逻辑被视为寄存器的一部分</li>
<li><strong>共用逻辑(shared logic)</strong>：被多个寄存器共用的，实现微操作的组合逻辑</li>
<li>通过控制信号<span class="arithmatex">\(K_0, K_1, \dots, K_{n-1}\)</span>的或运算，生成加载使能信号</li>
<li>
<p>如何选择来自源，或/和传输函数？</p>
<ul>
<li>MUX + 编码器(如图所示)：控制输入需要被编码</li>
<li>n <span class="arithmatex">\(\times\)</span> 2 与-或门：控制输入不需要被编码</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="4.html">时序电路设计</a></p>
<ul>
<li>找到状态图或状态表，注意只有两个状态分配后的状态 = 寄存器单元的输出值</li>
<li>运用Chap 4 介绍的流程来完成单元设计</li>
<li>优化：K-maps(4-6个变量)、手动优化或计算机辅助(更多的变量)</li>
</ul>
</li>
</ul>
<p>寄存器单元的<em>规范</em>包括：</p>
<ul>
<li><strong>寄存器函数(register functions)</strong>：一般用寄存器传输表示</li>
<li><strong>控制输入(control input)</strong><ul>
<li><em>无编码</em>形式：比如Load, Shift, Add，1个时钟周期内至多有1个输入为1，即(0, 0, 0), (1, 0, 0), (0, 1, 0), (0, 0, 1)</li>
<li><em>编码</em>形式：比如S1, S0，所有的组合为(00, 01, 10, 11)</li>
</ul>
</li>
<li><strong>数据输入(data input)</strong></li>
</ul>
<p>🌰：</p>
<p>题目：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_174121.png" width="70%" style="margin: 0 auto;">
</div>

<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">法一：MUX</label><label for="__tabbed_4_2">法二：时序电路设计</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>寄存器的加载信号：Load = CX + CY</li>
<li>由于控制输入的数量少，因此不需要用到编码器，我们直接将控制输入与MUX的选择输入连接，得到：S1 = CY, S0 = CX</li>
<li>寄存器的数据输入：
$$
\begin{align}
D1 &amp; = A_i \leftarrow B_i \vee A_i \quad (CY, CX) = (0, 1) \
D2 &amp; = A_i \leftarrow B_i \oplus A_i \quad (CY, CX) = (1, 0) \
\end{align}
$$</li>
<li>当Load = 0，即(CX, CY) = (0, 0)时，寄存器A保持状态</li>
</ul>
<p>电路实现：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_174941.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>单个元件的门成本 = 19，共享译码器的成本 = 8</p>
</div>
<div class="tabbed-block">
<p>状态表：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_175347.png" width="70%" style="margin: 0 auto;">
</div></p>
<blockquote>
<p>注：</p>
<ul>
<li>4个变量将给出状态表的16个状态项</li>
<li>因为我们不会用到CX = CY = 1的条件(即don't care conditions)，因此实际上我们只关心12个项</li>
</ul>
</blockquote>
<p>K-map化简：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_175633.png" width="50%" style="margin: 0 auto;">
</div></p>
<p>我们得到SOP方程为：
$$
D_i = CXB_i + CY\overline{A_i}B_i + A_i\overline{B_i} + \overline{CY}A_i
$$
进一步化简(为了减少门成本)，得到：
$$
D_i = CXB_i + A_i \oplus (CYB_i)
$$
门输入成本 = 2 + 8 + 2 + 2 = 14，因此比法一更节省成本。而且由于没用到使能信号，成本将进一步减少</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>书上(<span class="arithmatex">\(P_{354-359}\)</span>)还有2个寄存器单元设计的例子，均采用时序电路设计的方法（没用到寄存器），值得好好阅读和理解</p>
</div>
</div>
</div>
</div>
<h2 id="control-of-register-transfers">Control of Register Transfers<a class="headerlink" href="#control-of-register-transfers" title="Permanent link">&para;</a></h2>
<h3 id="introduction-to-register-transfer-systems">Introduction to Register Transfer Systems<a class="headerlink" href="#introduction-to-register-transfer-systems" title="Permanent link">&para;</a></h3>
<p>基本元素：</p>
<ul>
<li>一组寄存器：大多数是数据通路，部分为控制单元</li>
<li>基本操作(微操作)：寄存器传输</li>
<li>控制：监督寄存器传输序列</li>
</ul>
<h3 id="register-transfer-system-design-procedure">Register Transfer System Design Procedure<a class="headerlink" href="#register-transfer-system-design-procedure" title="Permanent link">&para;</a></h3>
<ul>
<li>写下详细的系统<strong>规范(specification)</strong></li>
<li>找出所有的<em>输入信号</em>(数据、控制、状态)，所有的<em>输出信号</em>(数据、控制、状态)，以及<em>寄存器</em>的数据通路和控制单元</li>
<li>找出系统的<strong>状态机(state machine diagram)</strong>，包括作为输出的数据通路和控制单元上的<em>寄存器传输</em></li>
<li><u>找出所有的内部控制和状态信号</u>，用这些信号将状态机中的输出条件和行动分开(包括寄存器传输)，并将它们用表格表示出来</li>
<li><u>画出数据通路的框图</u>，包括所有的控制、状态输入和输出；如果包括寄存器传输的硬件，画出控制的框图</li>
<li><u>设计出具体的寄存器传输逻辑</u>，用于数据通路和控制</li>
<li><u>设计控制单元逻辑</u></li>
<li>验证数据通路和控制单元结合后的操作是否正确，若失败，调试系统并验证改变后的系统，直至符合预期目标</li>
</ul>
<details class="exmaple">
<summary>A Design Example</summary>
<p>🌰：Dashwatch（一种简单的停表，时间上限为99.99s）
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_190639.png" width="50%" style="margin: 0 auto;">
</div></p>
<ul>
<li>输入：<ul>
<li>START：将时间复位至0，随后开始计时</li>
<li>STOP：停止计时，在4位BCD数码管上显示最近的时间</li>
<li>CSS：比较、存储和显示最小的时间</li>
<li>RESET</li>
</ul>
</li>
<li>输出：4位BCD数码管 + 小数点</li>
<li>寄存器：<ul>
<li>4位BCD计数器(TM)：每隔0.01s向上数</li>
<li>16位并行加载计时器(SD)：存储最短的时间</li>
</ul>
</li>
</ul>
<p>所有的输入、输出和寄存器：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_190745.png" width="70%" style="margin: 0 auto;">
</div></p>
<p><em>寄存器传输输出</em>的状态机(摩尔型)</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_190934.png" width="70%" style="margin: 0 auto;">
</div></p>
<ul>
<li>S1：复位状态，初始化SD位1001100110011001(99.99)，即最大值</li>
<li>S2：紧随S1发生，使TM = <span class="arithmatex">\((0000)_{BCD}\)</span></li>
<li>S3：计时状态。按下START键后进入计时状态，按下STOP键后退出。在该状态下，T的值在每个时间脉冲内自增1(0.01s，时钟频率 = 100Hz)，DIS显示TM的值</li>
<li>S4：决定阶段，从以下3个状态中选择1个：<ul>
<li>比较、存储并显示最短时间</li>
<li>继续显示TM的值</li>
<li>重新开始</li>
</ul>
</li>
<li>S5：比较TM和SD的值</li>
<li>S6：如果TM更小，TM的值被加载至SD内</li>
<li>S7：重新开始，并显示SD存储的最短时间</li>
</ul>
<p>输出控制/状态表：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_191751.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>找出内部控制/状态信号：</p>
<ul>
<li>
<p>TM：计时器</p>
<ul>
<li>复位至0：RSTM</li>
<li>向上计数的使能信号：ENTM</li>
</ul>
</li>
<li>
<p>SD：最短时间</p>
<ul>
<li>加载SD：LSR = 1</li>
<li>选择输入 9999：UPDATE = 0</li>
<li>选择输入 TM：UPDATE = 1</li>
</ul>
</li>
<li>
<p>DIS：显示(<span class="arithmatex">\(B_1, B_0, DP, B_{-1}, B_{-2}\)</span>)</p>
<ul>
<li>选择输入 TM：DS = 0</li>
<li>选择输入 SD：DS = 1</li>
</ul>
</li>
<li>
<p>比较TM 和 SD（状态）</p>
<ul>
<li>TM &lt; SD：ALTB = 1</li>
<li>TM <span class="arithmatex">\(\ge\)</span> SD：ALTB = 0</li>
</ul>
</li>
</ul>
<p>数据通路：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_192216.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>数据通路的开发细节：</p>
<ul>
<li>
<p>TM：带有同步复位的4位BCD计数器</p>
<ul>
<li>基于先前的BCD加法器设计</li>
<li>添加同步复位SRST</li>
<li>SRST = RSTM</li>
<li>C0(进入的进位) = ENTM</li>
</ul>
</li>
<li>
<p>A &lt; B 比较器</p>
<ul>
<li>比较TM 和 SD</li>
<li>设计从左往右的迭代单元阵列，输出C0</li>
</ul>
</li>
<li>
<p>SD：标准16位并行加载寄存器</p>
<ul>
<li>LOAD = LSR</li>
<li>使用16位2-1MUX，从<span class="arithmatex">\(9999_{BCD}\)</span>和TM中选择并行加载输入D</li>
<li>S = UPDATE</li>
</ul>
</li>
</ul>
<p>显示逻辑：</p>
<ul>
<li>16位2-1MUX</li>
<li>4位BCD7段数码管转换器</li>
<li>4位七段数码管显示器(带有小数点)：小数点控制：DP = 1</li>
</ul>
<p>取代寄存器传输的<em>控制信号输出</em>的状态机：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_193114.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>使用D触发器进行独热码状态分配(7位)，得到下列输入方程：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_193349.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>输出方程为：</p>
<div class="arithmatex">\[
\begin{align}
LSR &amp; = S1 + S6 \notag\\
RSTM &amp; = S2 \notag\\
ENTM &amp; = S3 \notag\\
UPDATE &amp; = S6 \notag\\
DS &amp; = S7 \notag
\end{align}
\]</div>
<blockquote>
<p>注：课本上还有一个更复杂的例子，我还没来得及看……</p>
</blockquote>
</details>
<h3 id="microprogrammed-control">Microprogrammed Control<a class="headerlink" href="#microprogrammed-control" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>不可编程的系统(non-programmable system)</strong>——具体系统<ul>
<li>没有<strong>编程计数器(program counter, PC)</strong> 或者类似的寄存器</li>
<li>控制单元不进行获取和执行指令的操作，而是基于输入和数据通路的状态位，决定要执行的操作(序列)</li>
</ul>
</li>
<li><strong>可编程的系统(programmable system)</strong>——通用系统<ul>
<li>一部分输入由一系列<strong>指令(instruction)</strong> 构成，称为<strong>程序(program)</strong></li>
<li>通常存储于内存，并且由PC决定地址</li>
<li>控制单元负责获取和执行指令</li>
</ul>
</li>
</ul>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_194050.png" width="70%" style="margin: 0 auto;">
</div>

<h2 id="serial-transfers-and-microoperations">Serial Transfers and Microoperations<a class="headerlink" href="#serial-transfers-and-microoperations" title="Permanent link">&para;</a></h2>
<ul>
<li>当系统在一段时间内只能传递或操作1位信息时，称这个系统处于<strong>串行模式(serial mode)</strong></li>
<li>与串行传输相对的<strong>并行传输(parallel transfer)</strong>：同时传输寄存器的所有位</li>
</ul>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_194552.png" width="80%" style="margin: 0 auto;">
</div>

<p>串行传输(移位)：</p>
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240525_141326.png" width="80%" style="margin: 0 auto;">
</div>

<p>🌰：串行加法器(serial adder)：时序电路，一次只能执行1位二进制加法</p>
<p>用2个状态记住进位：
+ G：carry in = 0
+ H：carry in = 1</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">米里型</label><label for="__tabbed_5_2">摩尔型</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>状态图：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_194842.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>状态表：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_195124.png" width="60%" style="margin: 0 auto;">
</div></p>
<p>状态分配后的状态表：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_195131.png" width="60%" style="margin: 0 auto;">
</div></p>
<p>化简(略)</p>
<p>输入方程：<span class="arithmatex">\(D = ab + ay + by\)</span>
输出方程：<span class="arithmatex">\(S = a \oplus b \oplus y\)</span></p>
<p>框图：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_195413.png" width="60%" style="margin: 0 auto;">
</div></p>
</div>
<div class="tabbed-block">
<p>状态图：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_195610.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>状态表，输入方程和输入方程</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_195706.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>框图：</p>
<p><div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240524_195742.png" width="70%" style="margin: 0 auto;">
</div></p>
<p>上面2个电路仅保存了进位，如果我们想实现 <span class="arithmatex">\(A \leftarrow A + B\)</span>，就需要保存A的值。教材给出了对应的实现：
<div style="text-align: center; margin-top: 15px;">
<img src="images/C6/Quicker_20240525_141607.png" width="70%" style="margin: 0 auto;">
</div></p>
</div>
</div>
</div>
  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年6月12日 14:11:51</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年6月1日 17:09:32</span>
      
    
  </small>
</div>
  


  <p style="font-size: 30px;">评论区</p>
<div>
  如果有什么问题或想法，欢迎大家在下方留言~
</div>
<!-- Insert generated snippet here -->
<script src="https://giscus.app/client.js"
data-repo="stupid-qzy/my-notebook"
data-repo-id="R_kgDOMAb9Zg"
data-category="Announcements"
data-category-id="DIC_kwDOMAb9Zs4CfmpP"
data-mapping="pathname"
data-strict="0"
data-reactions-enabled="1"
data-emit-metadata="0"
data-input-position="bottom"
data-theme="preferred_color_scheme"
data-lang="zh-CN"
crossorigin="anonymous"
async>
</script>
  <!-- Synchronize Giscus theme with palette -->
<script>
  var giscus = document.querySelector("script[src*=giscus]")

  // Set palette on initial load
  var palette = __md_get("__palette")
  if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate"
      ? "transparent_dark"
      : "light"

    // Instruct Giscus to set theme
    giscus.setAttribute("data-theme", theme) 
  }

  // Register event handlers after documented loaded
  document.addEventListener("DOMContentLoaded", function() {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function() {
      var palette = __md_get("__palette")
      if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate"
          ? "transparent_dark"
          : "light"

        // Instruct Giscus to change theme
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
          { giscus: { setConfig: { theme } } },
          "https://giscus.app"
        )
      }
    })
  })
</script>
                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="5.html" class="md-footer__link md-footer__link--prev" aria-label="上一页: Chap 5 Digital HardWare Implementation" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Chap 5 Digital HardWare Implementation
              </div>
            </div>
          </a>
        
        
          
          <a href="7.html" class="md-footer__link md-footer__link--next" aria-label="下一页: Chap 7 Memory Basics" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Chap 7 Memory Basics
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 NoughtQ
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/stupid-qzy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.top", "navigation.footer", "navigation.indexes", "navigation.tracking", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>